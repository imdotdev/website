"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[672],{92684:function(e,n,t){t.d(n,{ac:function(){return a}});t(11604);var r=t(19703),i=t(67294),o=t(85393),s=r.jU?i.useLayoutEffect:i.useEffect;function a(e){var n=(0,o.O)(),t=Array.isArray(e)?e:[e],a=r.jU&&"matchMedia"in n.window,c=i.useState(t.map((function(e){return!!a&&!!n.window.matchMedia(e).matches}))),l=c[0],u=c[1];return s((function(){if(a){var e=t.map((function(e){return n.window.matchMedia(e)})),r=e.map((function(n,t){var r=function(n){var t=e.findIndex((function(e){return e.media===n.media}));u((function(e){var r=e.map((function(e){return e}));return r[t]=n.matches,r}))};return"function"===typeof e[t].addEventListener?e[t].addEventListener("change",r):e[t].addListener(r),r}));return function(){e.forEach((function(n,t){"function"===typeof e[t].removeEventListener?e[t].removeEventListener("change",r[t]):e[t].removeListener(r[t])}))}}}),[]),l}r.Ts;r.Ts},29135:function(e,n,t){t.r(n),t.d(n,{PostContainer:function(){return y},IndexSidebar:function(){return w}});var r=t(85893),i=t(68527),o=t(47398),s=t(96356),a=t(1950),c=t(38671),l=t(83331),u=t(67757),d=t(30092),f=t(67294),h=t(84696),p=t(7e3),g=t(10245),m=t(31324),v=t(62665),x=t(32532),j=t(57331);n.default=function(){return(0,r.jsx)(y,{filter:"recent"})};var y=function(e){var n=e.filter;(0,f.useEffect)((function(){return(0,j.Il)(!0),function(){return(0,j.Il)(!1)}}),[]);var t=f.useMemo((function(){return[{title:"\u70ed\u95e8\u6587\u7ae0",path:"/post",disabled:!1},{title:"\u6700\u65b0",path:"/post/latest",disabled:!1},{title:"\u6211\u5173\u6ce8\u7684",path:"/post/best",disabled:!1},{title:"\u603b\u6392\u884c",path:"/post/all",disabled:!1},{title:"\u7f16\u8f91\u7cbe\u9009",path:"/post/featured",disabled:!1}]}),[]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Z,{title:u.Z.seo.title,description:u.Z.seo.description}),(0,r.jsx)(d.Z,{children:(0,r.jsxs)(i.Ug,{alignItems:"top",spacing:"3",children:[(0,r.jsxs)(i.gC,{alignItems:"left",width:["100%","100%","70%","70%"],spacing:"3",children:[(0,r.jsx)(a.ZP,{p:"2",className:"side-card",border:"none",children:(0,r.jsx)(i.kC,{justifyContent:"space-between",alignItems:"center",children:(0,r.jsx)(g.Z,{routes:t,exactPath:!0})})}),(0,r.jsx)(a.ZP,{width:"100%",height:"fit-content",p:"0",className:"side-card",border:"none",children:(0,r.jsx)(c.Z,{onLoad:function(e){return n==x.a.Featured?h.rR.get("/pin/story/list/".concat(-1,"?page=").concat(e,"&per_page=").concat(p.perPage)):h.rR.get("/story/posts/home?filter=".concat(n,"&page=").concat(e,"&per_page=").concat(p.perPage))},filter:n,isInfinite:!0})})]}),(0,r.jsx)(w,{})]})})]})},w=function(){var e=(0,f.useState)("creations"),n=e[0],t=e[1],a=(0,v.Z)().session;return(0,r.jsx)(i.gC,{alignItems:"left",width:"35%",display:{base:"none",md:"flex"},spacing:"3",children:(0,r.jsx)(i.xu,{className:"card-opaque",children:(0,r.jsx)(m.Z,{filter:"story",type:n,children:(0,r.jsxs)(i.kC,{justify:"space-between",width:"100%",alignItems:"center",children:[(0,r.jsx)(o.u,{label:"\u70b9\u51fb\u67e5\u770b\u6240\u6709\u699c\u5355",children:(0,r.jsx)(i.rU,{href:"/r/ranking",children:(0,r.jsxs)(i.X6,{size:"xs",cursor:"pointer",children:["\u8d8b\u52bf\u699c ",(null===a||void 0===a?void 0:a.user.category)?"- \u5b50\u7ad9":"- \u603b\u7ad9"]})})}),(0,r.jsxs)(i.Ug,{spacing:"1",children:[(0,r.jsx)(s.Vp,{cursor:"pointer",size:"sm",variant:"creations"==n?"solid":"outline",onClick:function(){return t("creations")},children:"\u6587\u7ae0\u6570"}),(0,r.jsx)(s.Vp,{cursor:"pointer",size:"sm",variant:"likes"==n?"solid":"outline",onClick:function(){return t("likes")},children:"\u83b7\u8d5e\u6570"})]})]})})})})}},38671:function(e,n,t){var r=t(85893),i=t(67294),o=t(20949),s=t(68527),a=t(2993),c=t(64981),l=t(96486),u=t(71118),d=t(19029);function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function h(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return f(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.Z=function(e){var n=e.card,t=void 0===n?a.Z:n,f=e.showBottomDivider,p=void 0===f||f,g=e.type,m=void 0===g?"classic":g,v=e.showPinned,x=void 0!==v&&v,j=e.showOrg,y=void 0===j||j,w=e.onLoad,b=e.filter,I=e.tagFilter,Z=e.onRemove,C=e.showLiked,k=void 0!==C&&C,E=e.isInfinite,L=e.showViews,P=void 0!==L&&L,S=e.followPush,A=(0,i.useState)(0),U=A[0],_=A[1],z=(0,i.useState)(null),M=z[0],N=z[1];(0,i.useEffect)((function(){N(null),_(U+1)}),[b,I]);var O=(0,o.ff)(c.Z.borderColor.light,c.Z.borderColor.dark),F=t;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(d.Z,{onLoad:w,onDataChange:function(e){N(l.concat.apply(void 0,[null!==M&&void 0!==M?M:[]].concat(h(e))))},isInfinite:E,children:0===(null===M||void 0===M?void 0:M.length)?(0,r.jsx)(u.Z,{}):(0,r.jsx)(s.gC,{alignItems:"left",children:null===M||void 0===M?void 0:M.map((function(n,t){return n.disables?null:(0,r.jsx)(s.xu,{py:"2",borderBottom:t<M.length-1||p?"1px solid ".concat(O):null,px:"1",children:(0,r.jsx)(F,{story:n,size:e.size,type:m,highlight:e.highlight,showPinned:x,showOrg:y,onRemove:Z,showLiked:k,showViews:P,followPush:S})},n.id)}))})},U)})}}}]);