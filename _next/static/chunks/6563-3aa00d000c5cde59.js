"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6563],{11391:function(e,t,n){n.d(t,{Ph:function(){return m}});var r=n(79762),i=n(11604),a=n(94244),s=n(19703),l=n(38554),c=n.n(l),o=n(67294);function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function h(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var u=["children","placeholder","className"],x=["rootProps","placeholder","icon","color","height","h","minH","minHeight","iconColor","iconSize","isFullWidth"],p=["children"],f=(0,i.Gp)((function(e,t){var n=e.children,r=e.placeholder,a=e.className,l=h(e,u);return o.createElement(i.m$.select,d({},l,{ref:t,className:(0,s.cx)("chakra-select",a)}),r&&o.createElement("option",{value:""},r),n)}));s.Ts&&(f.displayName="SelectField");var m=(0,i.Gp)((function(e,t){var n=(0,i.jC)("Select",e),l=(0,i.Lr)(e),u=l.rootProps,p=l.placeholder,m=l.icon,j=l.color,g=l.height,b=l.h,y=l.minH,w=l.minHeight,k=l.iconColor,S=l.iconSize;l.isFullWidth;var _=h(l,x),z=(0,s.Vl)(_,a.oE),E=z[0],N=z[1],C=(0,r.Yp)(N),$={width:"100%",height:"fit-content",position:"relative",color:j},I=c()({paddingEnd:"2rem"},n.field,{_focus:{zIndex:"unset"}});return o.createElement(i.m$.div,d({className:"chakra-select__wrapper",__css:$},E,u),o.createElement(f,d({ref:t,height:null!=b?b:g,minH:null!=y?y:w,placeholder:p},C,{__css:I}),e.children),o.createElement(v,d({"data-disabled":(0,s.PB)(C.disabled)},(k||j)&&{color:k||j},{__css:n.icon},S&&{fontSize:S}),m))}));s.Ts&&(m.displayName="Select");var j=function(e){return o.createElement("svg",d({viewBox:"0 0 24 24"},e),o.createElement("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}))},g=(0,i.m$)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),v=function(e){var t=e.children,n=void 0===t?o.createElement(j,null):t,r=h(e,p),i=o.cloneElement(n,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return o.createElement(g,d({},r,{className:"chakra-select__icon-wrapper"}),o.isValidElement(n)?i:null)};s.Ts&&(v.displayName="SelectIcon")},33441:function(e,t,n){n.d(t,{g:function(){return o}});var r=n(79762),i=n(11604),a=n(19703),s=n(67294);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}var c=["className","rows"],o=(0,i.Gp)((function(e,t){var n=(0,i.mq)("Textarea",e),o=(0,i.Lr)(e),d=o.className,h=o.rows,u=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(o,c),x=(0,r.Yp)(u),p=h?(0,a.CE)(n,["h","minH","height","minHeight"]):n;return s.createElement(i.m$.textarea,l({ref:t,rows:h},x,{className:(0,a.cx)("chakra-textarea",d),__css:p}))}));a.Ts&&(o.displayName="Textarea")},38693:function(e,t,n){var r=n(34051),i=n.n(r),a=n(85893),s=n(20949),l=n(68527),c=n(34651),o=n(15193),d=n(11604),h=n(11391),u=n(1950),x=n(83331),p=n(67757),f=n(62665),m=n(30092),j=n(11163),g=n(67294),v=n(89583),b=n(56184),y=n(84696),w=n(30381),k=n.n(w),S=n(26822),_=n(1429),z=n(32532),E=n(45450),N=n(95978),C=n(35655),$=n(70577),I=n(96653),Z=n(74326),P=n(87079),U=n(13520),T=n(45351);function W(e,t,n,r,i,a,s){try{var l=e[a](s),c=l.value}catch(o){return void n(o)}l.done?t(c):Promise.resolve(c).then(r,i)}function F(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){W(a,r,i,s,l,"next",e)}function l(e){W(a,r,i,s,l,"throw",e)}s(void 0)}))}}t.Z=function(e){var t=e.children,n=e.onUserLoaded,r=e.onFilterChange,w=e.filters,W=void 0===w?[{label:"\u6309\u65f6\u95f4\u6392\u5e8f",value:z.a.Latest},{label:"\u8d5e\u540c\u6570\u6392\u5e8f",value:z.a.Favorites},{label:"\u6d4f\u89c8\u91cf\u6392\u5e8f",value:z.a.Views}]:w,H=(0,g.useState)(""),O=H[0],A=H[1],L=(0,g.useState)([]),q=L[0],J=L[1],R=(0,j.useRouter)();(0,g.useEffect)((function(){R.query.user_id&&(Number(R.query.user_id)?A((0,N.ID)(R.query.user_id)):y.rR.get("/user/id/byDomain?domain=".concat(R.query.user_id)).then((function(e){return A(e.data)})))}),[R.query.user_id]);var D=(0,f.Z)().session,G=(0,g.useState)(null),V=G[0],B=G[1],X=(0,g.useState)([]),Y=X[0],M=X[1],K=(0,g.useState)(z.a.Latest),Q=K[0],ee=K[1],te=(0,g.useState)(null),ne=te[0],re=te[1],ie=(0,s.ff)("white","transparent");(0,g.useEffect)((function(){O&&le(O)}),[O]);var ae,se,le=function(){var e=F(i().mark((function e(t){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.rR.get("/user/profile?id=".concat(t));case 2:return r=e.sent,B(r.data),n(r.data),ce(r.data.id),oe(),e.next=9,y.rR.get("/interaction/status/to/me/".concat(t));case 9:a=e.sent,re(a.data);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=F(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.rR.get("/user/navbars?id=".concat(t));case 2:n=e.sent,M(n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=F(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.rR.get("/disable?target_id=".concat(O));case 2:t=e.sent,J(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=V?[{title:"\u6587\u7ae0 "+V.iteractions.posts,path:"".concat((0,P.Ab)(V)),disabled:!1},{title:"\u56de\u7b54 "+V.iteractions.answers,path:"".concat((0,P.Ab)(V),"/answers"),disabled:!1},{title:"\u63d0\u95ee "+V.iteractions.discs,path:"".concat((0,P.Ab)(V),"/discussions"),disabled:!1},{title:"\u7ffb\u8bd1\u8ba1\u5212 ",path:"".concat((0,P.Ab)(V),"/translates"),disabled:!1},{title:"\u6559\u7a0b",path:"".concat((0,P.Ab)(V),"/courses"),disabled:!1},{title:"\u7cfb\u5217",path:"".concat((0,P.Ab)(V),"/series"),disabled:!1}]:[],he=!0,ue=!1,xe=void 0;try{for(var pe,fe=Y[Symbol.iterator]();!(he=(pe=fe.next()).done);he=!0){var me=pe.value;de.push({title:me.label,path:"".concat(me.value),disabled:!1})}}catch(je){ue=!0,xe=je}finally{try{he||null==fe.return||fe.return()}finally{if(ue)throw xe}}return console.log(ne),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.Z,{title:p.Z.seo.title,description:p.Z.seo.description}),(0,a.jsx)(m.Z,{p:"0",title:(null===V||void 0===V?void 0:V.nickname)+"\u7684\u4e3b\u9875",children:V&&(0,a.jsx)(l.xu,{alignItems:"left",pb:"6",children:(0,a.jsxs)(l.Ug,{spacing:[0,0,4,4],mt:"2",alignItems:"top",children:[(0,a.jsxs)(l.xu,{width:["100%","100%","70%","70%"],children:[(0,a.jsxs)(u.ZP,{p:"0",borderTop:"none",mb:"2",children:[(0,a.jsx)(l.xu,{backgroundImage:"url(".concat(V.cover,")"),height:"180px",width:"100%",backgroundSize:"cover",backgroundPosition:"center"}),(0,a.jsxs)(l.Ug,{spacing:"3",alignItems:"left",pl:"6",children:[(0,a.jsx)(c.Ee,{src:V.avatar,height:"180px",width:"180px",marginTop:"-50px",border:"0px solid ".concat(ie)}),(0,a.jsxs)(l.gC,{alignItems:"left",spacing:"4",pt:"3",width:"100%",children:[(0,a.jsxs)(l.kC,{justify:"space-between",children:[(0,a.jsxs)(l.Ug,{children:[(0,a.jsx)(l.X6,{size:"md",children:V.nickname}),0==q.length&&(0,$.GJ)(null===D||void 0===D?void 0:D.user.role)&&(0,a.jsx)(l.xu,{mt:"4",children:(0,a.jsx)(I.Z,{targetId:V.id,by:"",onDisable:function(){return oe()}})}),q.map((function(e){return(0,a.jsx)(Z.Z,{disabled:e})}))]}),(0,a.jsx)(l.xu,{children:(null===D||void 0===D?void 0:D.user.id)===V.id?(0,a.jsx)(o.zx,{onClick:function(){return R.push("".concat(b.N.Settings,"/profile"))},variant:"outline",children:(0,a.jsx)(d.m$.span,{display:{base:"none",md:"block"},children:"\u7f16\u8f91\u4e2a\u4eba\u8d44\u6599"})}):(0,a.jsx)(_.Z,{followed:V.followed,targetID:V.id})})]}),V.tagline&&(0,a.jsx)(l.xv,{fontWeight:"450",children:V.tagline})]})]}),(0,a.jsxs)(l.kC,{justify:"space-between",px:"6",pt:"4",pb:"1",alignItems:"center",children:[(0,a.jsx)(U.Z,{routes:de,isSidebar:!1,showBorder:!1,exactPath:!0}),(0,a.jsx)(h.Ph,{value:Q,onChange:function(e){ee(e.currentTarget.value),r(e.currentTarget.value)},size:"sm",variant:"unstyled",width:"200px",children:W.map((function(e){return(0,a.jsx)("option",{value:e.value,children:e.label})}))})]})]}),(0,a.jsx)(u.ZP,{width:"100%",height:"fit-content",p:"0",children:t})]}),(0,a.jsxs)(l.gC,{alignItems:"left",spacing:"2",width:"350px",display:{base:"none",md:"flex"},children:[(0,a.jsx)(u.ZP,{className:"side-card",children:(0,a.jsxs)(l.gC,{alignItems:"left",spacing:"4",children:[(0,a.jsx)(l.kC,{justify:"space-between",alignItems:"center",children:(0,a.jsx)(l.X6,{size:"sm",cursor:"pointer",children:"\u4e2a\u4eba\u6210\u5c31"})}),(0,a.jsx)(l.iz,{}),(0,a.jsxs)(l.Ug,{children:[(0,a.jsx)(l.xv,{layerStyle:"gradientText",children:"\u7ffb\u8bd1\u7b49\u7ea7\uff1a"}),(0,a.jsx)(E.Z,{level:V.tlevel,points:V.tpoints})]}),(0,a.jsxs)(l.xv,{children:["\u79ef\u5206\u7b49\u7ea7\uff1a Lv",V.level]}),(0,a.jsx)(l.iz,{}),(0,a.jsxs)(l.Ug,{children:[(0,a.jsx)(v.$0H,{})," ",(0,a.jsxs)(l.xv,{children:["\u5df2\u83b7\u5f97 ",V.iteractions.likes," \u6b21\u8d5e\u540c"]})]}),(0,a.jsxs)(l.Ug,{children:[(0,a.jsx)(v.ffH,{})," ",(0,a.jsxs)(l.xv,{children:["\u5df2\u53d1\u8868 ",V.iteractions.posts," \u7bc7\u6587\u7ae0"]})]}),(0,a.jsx)(l.iz,{}),(0,a.jsx)(C.Z,{userId:V.id})]})}),(0,a.jsxs)(u.ZP,{className:"side-card",children:[(0,a.jsxs)(l.kC,{layerStyle:"textSecondary",pt:"1",alignItems:"center",children:[(0,a.jsx)(T.Z,{tp:0,targetId:V.id,count:null!==(ae=V.iteractions.followers)&&void 0!==ae?ae:0}),(0,a.jsx)(l.xu,{ml:"3",children:(0,a.jsx)(T.Z,{tp:1,targetId:V.id,count:null!==(se=V.iteractions.followings)&&void 0!==se?se:0})})]}),ne&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.iz,{my:"4"}),(0,a.jsxs)(l.Ug,{spacing:"3",children:[ne.followed&&(0,a.jsx)(l.xv,{fontSize:"sm",layerStyle:"textSecondary",children:"\u4ed6\u5173\u6ce8\u4e86\u6211"}),ne.likes>0&&(0,a.jsxs)(l.xv,{fontSize:"sm",layerStyle:"textSecondary",children:["\u4ed6\u8d5e\u540c\u6211 ",ne.likes," \u6b21"]})]})]})]}),(0,a.jsxs)(u.ZP,{className:"side-card",children:[V.about&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.xv,{layerStyle:"textSecondary",children:V.about}),(0,a.jsx)(l.iz,{my:"4"})]}),V.location&&(0,a.jsxs)(l.Ug,{children:[(0,a.jsxs)(d.m$.span,{layerStyle:"textSecondary",width:"90px",children:[V.type===S.iJ.User?"\u4e2a\u4eba\u5730\u5740":"\u7ec4\u7ec7\u5730\u5740",": "]}),(0,a.jsx)(d.m$.span,{fontWeight:"500",ml:"2",children:V.location})]}),V.website&&(0,a.jsxs)(l.Ug,{mt:"1",children:[(0,a.jsxs)(d.m$.span,{layerStyle:"textSecondary",width:"90px",children:[V.type===S.iJ.User?"\u4e2a\u4eba\u7f51\u7ad9":"\u5b98\u65b9\u7f51\u7ad9",": "]}),(0,a.jsx)(d.m$.a,{fontWeight:"500",ml:"2",href:V.website.startsWith("http")?V.website:"https://".concat(V.website),target:"_blank",children:V.website})]}),V.email&&(0,a.jsxs)(l.Ug,{mt:"1",children:[(0,a.jsx)(d.m$.span,{layerStyle:"textSecondary",width:"90px",children:"\u8054\u7cfb\u90ae\u7bb1: "}),(0,a.jsx)(d.m$.a,{fontWeight:"500",ml:"2",href:"mailto:"+V.email,target:"_blank",children:V.email})]}),(0,a.jsxs)(l.Ug,{mt:"1",children:[(0,a.jsxs)(d.m$.span,{layerStyle:"textSecondary",width:"90px",children:[V.type===S.iJ.User?"\u52a0\u5165\u65f6\u95f4":"\u521b\u5efa\u65f6\u95f4",": "]}),(0,a.jsx)(d.m$.span,{fontWeight:"500",ml:"2",children:k()(V.created).fromNow()})]}),(0,a.jsxs)(l.Ug,{layerStyle:"textSecondary",fontSize:"1.4rem",mt:V.github||V.twitter||V.facebook||V.stackoverflow||V.weibo||V.zhihu?4:0,spacing:"5",children:[V.github&&(0,a.jsx)(d.m$.a,{href:V.github,target:"_blank",children:(0,a.jsx)(v.hJX,{})}),V.twitter&&(0,a.jsx)(d.m$.a,{href:V.twitter,target:"_blank",children:(0,a.jsx)(v.fWC,{})}),V.facebook&&(0,a.jsx)(d.m$.a,{href:V.facebook,target:"_blank",children:(0,a.jsx)(v.Am9,{})}),V.stackoverflow&&(0,a.jsx)(d.m$.a,{href:V.stackoverflow,target:"_blank",children:(0,a.jsx)(v.Hjm,{})}),V.zhihu&&(0,a.jsx)(d.m$.a,{href:V.zhihu,target:"_blank",children:(0,a.jsx)(v.Vg3,{})}),V.weibo&&(0,a.jsx)(d.m$.a,{href:V.weibo,target:"_blank",children:(0,a.jsx)(v.aJW,{})})]}),V.availFor&&(0,a.jsxs)(l.xu,{children:[(0,a.jsx)(l.iz,{my:"4"}),(0,a.jsx)(l.xv,{fontWeight:"600",layerStyle:"textSecondary",children:"\u6211\u5728\u5bfb\u627e\u5de5\u4f5c"}),(0,a.jsx)(l.xv,{mt:"2",children:V.availFor})]})]})]})]})})})]})}}}]);