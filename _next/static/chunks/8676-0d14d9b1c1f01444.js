"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8676],{83504:function(e,t,n){var r=n(85893),i=n(68527),l=n(1950),o=n(62665),c=n(24871),s=n(96486),a=n(67294),u=n(63091),f=n(70577);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d(e,t,n[t])}))}return e}function p(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}t.Z=function(e){var t=e.title,n=e.routes,d=e.children,v=e.p,b=p(e,["title","routes","children","p"]),x=(0,o.Z)().session,y=(0,a.useState)(n),j=y[0],m=y[1];return(0,a.useEffect)((function(){if(null===x||void 0===x?void 0:x.user){var e=!0,t=!1,n=void 0;try{for(var r,i=j[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var l=r.value;l.minRole==u.u.ContentAdmin?l.disabled=!(0,f.SL)(x.user.role):l.minRole==u.u.ADMIN&&(l.disabled=!(0,f.GJ)(x.user.role))}}catch(o){t=!0,n=o}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}m((0,s.cloneDeep)(j))}),[null===x||void 0===x?void 0:x.user]),(0,r.jsxs)(i.xu,{display:"flex",children:[(0,r.jsx)(c.Z,h({routes:j,title:t},b)),(0,r.jsx)(l.ZP,{className:"side-card",ml:"4",width:"100%",p:null!==v&&void 0!==v?v:6,pb:"1",children:d})]})}},99901:function(e,t,n){var r=n(85893),i=n(11604),l=n(20949),o=n(41664),c=n(11163);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var f=n(67294).forwardRef((function(e,t){var n=e.isActive,o=e.icon,c=e.children,s=u(e,["isActive","icon","children"]);return(0,r.jsxs)(i.m$.a,a({"aria-current":n?"page":void 0,width:"100%",px:"3",py:"2",rounded:"md",ref:t,fontSize:"1rem",fontWeight:"bold",color:(0,l.ff)("gray.700","whiteAlpha.900"),transition:"all 0.2s",display:"flex",alignItems:"center",className:"hover-bg",_activeLink:{color:(0,l.ff)("var(--chakra-colors-brand-500)","brand.200"),fontWeight:"600"}},s,{children:[o&&(0,r.jsx)(i.m$.span,{mr:"5",fontSize:"1.1rem",display:{base:"none",md:"block"},width:"20px",children:o}),(0,r.jsx)(i.m$.span,{children:c})]}))}));t.Z=function(e){var t,n=e.href,l=e.icon,s=e.children,d=e.query,h=e.exactPath,p=void 0!==h&&h,v=u(e,["href","icon","children","query","exactPath"]),b=(0,c.useRouter)().asPath;return t=p?b.split("?")[0]==encodeURI(n):b.startsWith(encodeURI(n)),(0,r.jsx)(i.m$.div,a({userSelect:"none",display:"flex",alignItems:"center",lineHeight:"1.5rem"},v,{children:(0,r.jsx)(o.default,{href:{pathname:n,query:d},passHref:!0,children:(0,r.jsx)(f,{isActive:t,icon:l,children:s})})}))}},24871:function(e,t,n){var r=n(85893),i=n(68527),l=n(1950),o=n(11163),c=n(67294),s=n(99901);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}function f(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d(e){var t=e.routes,n=(e.pathname,e.contentRef,f(e,["routes","pathname","contentRef"]));return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.Kq,{as:"ul",children:t.map((function(e){return e.disabled?null:(0,r.jsx)(s.Z,u({as:"li",href:e.path,icon:e.icon},n,{children:(0,r.jsx)("span",{children:e.title})}),e.path)}))})})}t.Z=function(e){var t=e.routes,n=e.title,s=f(e,["routes","title"]),a=(0,o.useRouter)().pathname,h=c.useRef(null);return(0,r.jsxs)(i.gC,{alignItems:"left",width:["180px","180px","250px","250px"],height:"fit-content",children:[(0,r.jsx)(l.ZP,{p:"5",className:"side-card",children:(0,r.jsx)(i.X6,{size:"md",fontSize:"1.3rem",children:n})}),(0,r.jsx)(l.ZP,u({p:"0",className:"side-card"},s,{children:(0,r.jsx)(i.xu,{ref:h,as:"nav","aria-label":"Main Navigation",pos:"sticky",sx:{overscrollBehavior:"contain"},top:"8.5rem",p:"3",overflowY:"auto",className:"sidebar-content",flexShrink:0,children:(0,r.jsx)(d,u({routes:t,pathname:a,contentRef:h},s))})}))]})}},13520:function(e,t,n){var r=n(85893),i=n(68527),l=n(99901),o=n(11163),c=n(67294);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function f(e){var t=e.routes,n=(e.pathname,e.contentRef,e.query),o=u(e,["routes","pathname","contentRef","query"]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.Ug,{as:"ul",children:t.map((function(e){return e.disabled?null:(0,r.jsx)(l.Z,a({query:n,as:"li",href:e.path,icon:e.icon},o,{children:(0,r.jsx)("span",{children:e.title})}),e.path)}))})})}t.Z=function(e){var t=e.routes,n=e.showBorder,l=void 0===n||n,s=u(e,["routes","showBorder"]),d=(0,o.useRouter)().pathname,h=c.useRef(null);return(0,r.jsxs)(i.gC,{alignItems:"left",width:"100%",children:[(0,r.jsx)(f,a({routes:t,pathname:d,contentRef:h},s)),l&&(0,r.jsx)(i.iz,{})]})}},68676:function(e,t,n){n.r(t),n.d(t,{dashboardPointsLinks:function(){return x}});var r=n(34051),i=n.n(r),l=n(85893),o=n(68527),c=n(38152),s=n(96356),a=n(83504),u=n(30092),f=n(13520),d=n(96486),h=n(67294),p=n(41039),v=n(84696);function b(e,t,n,r,i,l,o){try{var c=e[l](o),s=c.value}catch(a){return void n(a)}c.done?t(s):Promise.resolve(s).then(r,i)}var x=(0,d.find)(p.S$,(function(e){return 2==e.id})).subLinks;t.default=function(){var e=(0,h.useState)(null),t=e[0],n=e[1],r=(0,h.useState)([]),d=r[0],y=r[1],j=(0,h.useState)([]),m=j[0],g=j[1];(0,h.useEffect)((function(){O(),v.rR.get("/points/level/enable/configs").then((function(e){return g(e.data)}))}),[]),(0,h.useEffect)((function(){t&&v.rR.get("/points/level?level=".concat(t.level,"&tlevel=").concat(t.tlevel)).then((function(e){return y(e.data)}))}),[t]);var O=function(){var e,t=(e=i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.rR.get("/user/self");case 2:t=e.sent,n(t.data);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var l=e.apply(t,n);function o(e){b(l,r,i,o,c,"next",e)}function c(e){b(l,r,i,o,c,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(u.Z,{title:"\u7528\u6237\u4e2d\u5fc3-\u6807\u7b7e\u7ba1\u7406",children:(0,l.jsxs)(a.Z,{title:"\u7528\u6237\u4e2d\u5fc3",routes:p.S$,children:[(0,l.jsx)(o.kC,{justifyContent:"space-between",alignItems:"center",children:(0,l.jsx)(f.Z,{routes:x,exactPath:!0})}),t&&(0,l.jsxs)(o.gC,{py:"8",spacing:"2",children:[(0,l.jsxs)(o.Ug,{width:"100%",py:"6",children:[(0,l.jsxs)(o.gC,{width:"50%",children:[(0,l.jsx)(o.xv,{layerStyle:"textSecondary",children:"\u5f53\u524d\u7528\u6237\u7b49\u7ea7"}),(0,l.jsxs)(o.xv,{fontWeight:"extrabold",fontSize:"2.6rem",children:["Lv",t.level]})]}),(0,l.jsxs)(o.gC,{width:"50%",children:[(0,l.jsx)(o.xv,{layerStyle:"textSecondary",children:"\u5f53\u524d\u7528\u6237\u79ef\u5206"}),(0,l.jsx)(o.xv,{fontWeight:"extrabold",fontSize:"2.6rem",children:t.points})]})]}),(0,l.jsxs)(o.kC,{justify:"space-between",width:"80%",children:[(0,l.jsx)(o.xv,{}),(0,l.jsxs)(o.xv,{fontSize:".8rem",children:["\u8ddd\u79bb\u4e0b\u4e00\u7ea7\u8fd8\u9700 ",d[0]-t.points," \u5206"]})]}),(0,l.jsx)(c.Ex,{bg:"rgba(18,18,18,0.1)",value:t.points,max:d[0],width:"80%"}),(0,l.jsxs)(o.kC,{justify:"space-between",width:"80%",children:[(0,l.jsx)(o.xv,{children:"0"}),(0,l.jsxs)(o.xv,{children:[t.points," / ",d[0]]})]}),(0,l.jsxs)(o.Ug,{width:"80%",py:"6",children:[(0,l.jsx)(o.iz,{width:"44%"}),(0,l.jsx)(o.xv,{zIndex:"1000",children:"\u7b49\u7ea7\u6743\u76ca"}),(0,l.jsx)(o.iz,{width:"44%"})]}),m&&(0,l.jsx)(o.gC,{width:"80%",alignItems:"left",spacing:"6",children:m.map((function(e){return(0,l.jsxs)(o.Ug,{spacing:"6",children:[(0,l.jsxs)(o.xv,{color:t.level>=e.level?null:"gray.400",children:["Lv",e.level]}),(0,l.jsx)(o.iz,{orientation:"vertical"}),e.enables.map((function(n){return(0,l.jsxs)(s.Vp,{colorScheme:t.level>=e.level?"brand":"gray",children:[n.desc," ",-1==n.limit?"":",\u6b21\u6570 + ".concat(n.limit)]})}))]})}))})]})]})})})}}}]);