"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7515],{83504:function(e,r,t){var n=t(85893),o=t(68527),i=t(1950),l=t(62665),a=t(24871),c=t(96486),s=t(67294),u=t(63091),f=t(70577);function h(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function d(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){h(e,r,t[r])}))}return e}function p(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}r.Z=function(e){var r=e.title,t=e.routes,h=e.children,y=e.p,b=p(e,["title","routes","children","p"]),g=(0,l.Z)().session,m=(0,s.useState)(t),v=m[0],j=m[1];return(0,s.useEffect)((function(){if(null===g||void 0===g?void 0:g.user){var e=!0,r=!1,t=void 0;try{for(var n,o=v[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var i=n.value;i.minRole==u.u.ContentAdmin?i.disabled=!(0,f.SL)(g.user.role):i.minRole==u.u.ADMIN&&(i.disabled=!(0,f.GJ)(g.user.role))}}catch(l){r=!0,t=l}finally{try{e||null==o.return||o.return()}finally{if(r)throw t}}}j((0,c.cloneDeep)(v))}),[null===g||void 0===g?void 0:g.user]),(0,n.jsxs)(o.xu,{display:"flex",children:[(0,n.jsx)(a.Z,d({routes:v,title:r},b)),(0,n.jsx)(i.ZP,{className:"side-card",ml:"4",width:"100%",p:null!==y&&void 0!==y?y:6,pb:"1",children:h})]})}},99901:function(e,r,t){var n=t(85893),o=t(11604),i=t(20949),l=t(41664),a=t(11163);function c(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){c(e,r,t[r])}))}return e}function u(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var f=t(67294).forwardRef((function(e,r){var t=e.isActive,l=e.icon,a=e.children,c=u(e,["isActive","icon","children"]);return(0,n.jsxs)(o.m$.a,s({"aria-current":t?"page":void 0,width:"100%",px:"3",py:"2",rounded:"md",ref:r,fontSize:"1rem",fontWeight:"bold",color:(0,i.ff)("gray.700","whiteAlpha.900"),transition:"all 0.2s",display:"flex",alignItems:"center",className:"hover-bg",_activeLink:{color:(0,i.ff)("var(--chakra-colors-brand-500)","brand.200"),fontWeight:"600"}},c,{children:[l&&(0,n.jsx)(o.m$.span,{mr:"5",fontSize:"1.1rem",display:{base:"none",md:"block"},width:"20px",children:l}),(0,n.jsx)(o.m$.span,{children:a})]}))}));r.Z=function(e){var r,t=e.href,i=e.icon,c=e.children,h=e.query,d=e.exactPath,p=void 0!==d&&d,y=u(e,["href","icon","children","query","exactPath"]),b=(0,a.useRouter)().asPath;return r=p?b.split("?")[0]==encodeURI(t):b.startsWith(encodeURI(t)),(0,n.jsx)(o.m$.div,s({userSelect:"none",display:"flex",alignItems:"center",lineHeight:"1.5rem"},y,{children:(0,n.jsx)(l.default,{href:{pathname:t,query:h},passHref:!0,children:(0,n.jsx)(f,{isActive:r,icon:i,children:c})})}))}},24871:function(e,r,t){var n=t(85893),o=t(68527),i=t(1950),l=t(11163),a=t(67294),c=t(99901);function s(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function u(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){s(e,r,t[r])}))}return e}function f(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function h(e){var r=e.routes,t=(e.pathname,e.contentRef,f(e,["routes","pathname","contentRef"]));return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(o.Kq,{as:"ul",children:r.map((function(e){return e.disabled?null:(0,n.jsx)(c.Z,u({as:"li",href:e.path,icon:e.icon},t,{children:(0,n.jsx)("span",{children:e.title})}),e.path)}))})})}r.Z=function(e){var r=e.routes,t=e.title,c=f(e,["routes","title"]),s=(0,l.useRouter)().pathname,d=a.useRef(null);return(0,n.jsxs)(o.gC,{alignItems:"left",width:["180px","180px","250px","250px"],height:"fit-content",children:[(0,n.jsx)(i.ZP,{p:"5",className:"side-card",children:(0,n.jsx)(o.X6,{size:"md",fontSize:"1.3rem",children:t})}),(0,n.jsx)(i.ZP,u({p:"0",className:"side-card"},c,{children:(0,n.jsx)(o.xu,{ref:d,as:"nav","aria-label":"Main Navigation",pos:"sticky",sx:{overscrollBehavior:"contain"},top:"8.5rem",p:"3",overflowY:"auto",className:"sidebar-content",flexShrink:0,children:(0,n.jsx)(h,u({routes:r,pathname:s,contentRef:d},c))})}))]})}},13520:function(e,r,t){var n=t(85893),o=t(68527),i=t(99901),l=t(11163),a=t(67294);function c(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){c(e,r,t[r])}))}return e}function u(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function f(e){var r=e.routes,t=(e.pathname,e.contentRef,e.query),l=u(e,["routes","pathname","contentRef","query"]);return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(o.Ug,{as:"ul",children:r.map((function(e){return e.disabled?null:(0,n.jsx)(i.Z,s({query:t,as:"li",href:e.path,icon:e.icon},l,{children:(0,n.jsx)("span",{children:e.title})}),e.path)}))})})}r.Z=function(e){var r=e.routes,t=e.showBorder,i=void 0===t||t,c=u(e,["routes","showBorder"]),h=(0,l.useRouter)().pathname,d=a.useRef(null);return(0,n.jsxs)(o.gC,{alignItems:"left",width:"100%",children:[(0,n.jsx)(f,s({routes:r,pathname:h,contentRef:d},c)),i&&(0,n.jsx)(o.iz,{})]})}},7515:function(e,r,t){t.r(r),t.d(r,{dashboardFollowLinks:function(){return g}});var n=t(34051),o=t.n(n),i=t(85893),l=t(68527),a=(t(67294),t(41039)),c=t(84696),s=t(30092),u=t(26822),f=t(83504),h=t(96486),d=t(13520),p=t(71267),y=t(7e3);function b(e,r,t,n,o,i,l){try{var a=e[i](l),c=a.value}catch(s){return void t(s)}a.done?r(c):Promise.resolve(c).then(n,o)}var g=(0,h.find)(a.S$,(function(e){return 4==e.id})).subLinks;r.default=function(){var e=function(){var e,r=(e=o().mark((function e(r){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.rR.get("/interaction/followers/0?type=".concat(u.iJ.User,"&page=").concat(r,"&per_page=").concat(y.perPage));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})),function(){var r=this,t=arguments;return new Promise((function(n,o){var i=e.apply(r,t);function l(e){b(i,n,o,l,a,"next",e)}function a(e){b(i,n,o,l,a,"throw",e)}l(void 0)}))});return function(e){return r.apply(this,arguments)}}();return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(s.Z,{title:"\u7528\u6237\u4e2d\u5fc3-\u7c89\u4e1d\u5217\u8868",children:(0,i.jsxs)(f.Z,{title:"\u7528\u6237\u4e2d\u5fc3",routes:a.S$,children:[(0,i.jsx)(l.kC,{justifyContent:"space-between",alignItems:"center",children:(0,i.jsx)(d.Z,{routes:g,exactPath:!0})}),(0,i.jsx)(p.Z,{onLoad:e})]})})})}},47250:function(e,r,t){var n=t(85893),o=t(68527),i=t(67294);r.Z=function(e){var r=e.onDataChange,t=e.onLoad,l=e.children,a=e.isInfinite,c=void 0===a||a,s=(0,i.useState)(1),u=s[0],f=s[1],h=(0,i.useState)(!1),d=h[0],p=h[1];(0,i.useEffect)((function(){y(u)}),[u]);var y=function(e){t(e).then((function(e){c&&0!=e.data.length||p(!0),e.data.length>0&&r(e.data)}))};return(0,n.jsxs)(n.Fragment,{children:[l,!d&&(0,n.jsx)(o.M5,{cursor:"pointer",children:(0,n.jsx)(o.xv,{layerStyle:"textSecondary",fontSize:"sm",py:"4",onClick:function(){return f(u+1)},children:"\u70b9\u51fb\u52a0\u8f7d\u66f4\u591a\u5185\u5bb9"})})]})}},71267:function(e,r,t){var n=t(85893),o=t(20949),i=t(68527),l=t(71118),a=t(47250),c=t(70180),s=t(96486),u=t(67294),f=t(64981);function h(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function d(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return h(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.Z=function(e){var r=e.onLoad,t=(0,u.useState)(null),h=t[0],p=t[1],y=(0,u.useMemo)((function(){return(0,o.ff)(f.Z.borderColor.light,f.Z.borderColor.dark)}),[]);return(0,n.jsx)(a.Z,{onLoad:r,onDataChange:function(e){p(s.concat.apply(void 0,[null!==h&&void 0!==h?h:[]].concat(d(e))))},children:h?(0,n.jsx)(i.gC,{alignItems:"left",divider:(0,n.jsx)(i.cX,{borderColor:y}),children:null===h||void 0===h?void 0:h.map((function(e){return(0,n.jsx)(c.Z,{user:e})}))}):(0,n.jsx)(l.Z,{})})}},70180:function(e,r,t){var n=t(85893),o=(t(67294),t(68527)),i=t(34651),l=t(96356),a=t(11163),c=t(95978),s=t(1429),u=t(37763),f=t.n(u),h=t(87609),d=t(92178),p=t(87079);r.Z=function(e){var r,t,u=e.user,y=e.highlight,b=e.displayFollow,g=void 0===b||b,m=e.displayFollowers,v=void 0===m||m,j=e.displayRole,x=void 0!==j&&j,O=(0,a.useRouter)();return(0,n.jsxs)(o.kC,{alignItems:"center",justifyContent:"space-between",children:[(0,n.jsxs)(o.Ug,{spacing:"4",p:"2",width:"65%",children:[(0,n.jsx)(i.Ee,{width:"40px",src:u.avatar,onClick:function(){return O.push((0,p.Ab)(u))},cursor:"pointer"}),(0,n.jsxs)(o.gC,{alignItems:"left",spacing:"1",children:[(0,n.jsxs)(o.Ug,{children:[(0,n.jsx)(d.Z,{userId:u.id,children:(0,n.jsx)(o.X6,{size:"sm",onClick:function(){return O.push((0,p.Ab)(u))},cursor:"pointer",children:(0,n.jsx)(f(),{highlightClassName:"highlight-search-match",textToHighlight:(0,c.vW)(u),searchWords:[y]})})}),(0,n.jsxs)(o.xv,{layerStyle:"textSecondary",children:["@",(0,n.jsx)(f(),{highlightClassName:"highlight-search-match",textToHighlight:u.username,searchWords:[y]})," "]})]}),u.tagline&&(0,n.jsx)(o.xv,{fontSize:".95rem",children:(0,n.jsx)(f(),{highlightClassName:"highlight-search-match",textToHighlight:u.tagline,searchWords:[y]})})]})]}),(0,n.jsxs)(o.Ug,{width:"35%",children:[x&&(0,n.jsx)(l.Vp,{colorScheme:"cyan",children:u.role}),v&&(0,n.jsxs)(o.xv,{fontWeight:"600",fontSize:".9rem",children:[(0,n.jsx)(h.Z,{count:null!==(t=null===(r=u.iteractions)||void 0===r?void 0:r.followers)&&void 0!==t?t:0})," \u5173\u6ce8\u8005"]}),g&&(0,n.jsx)(s.Z,{followed:u.followed,targetID:u.id,size:"sm"})]})]})}}}]);