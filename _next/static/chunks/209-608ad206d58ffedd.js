"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[209],{92684:function(e,n,t){t.d(n,{ac:function(){return a}});t(11604);var r=t(19703),i=t(67294),s=t(85393),o=r.jU?i.useLayoutEffect:i.useEffect;function a(e){var n=(0,s.O)(),t=Array.isArray(e)?e:[e],a=r.jU&&"matchMedia"in n.window,c=i.useState(t.map((function(e){return!!a&&!!n.window.matchMedia(e).matches}))),l=c[0],u=c[1];return o((function(){if(a){var e=t.map((function(e){return n.window.matchMedia(e)})),r=e.map((function(n,t){var r=function(n){var t=e.findIndex((function(e){return e.media===n.media}));u((function(e){var r=e.map((function(e){return e}));return r[t]=n.matches,r}))};return"function"===typeof e[t].addEventListener?e[t].addEventListener("change",r):e[t].addListener(r),r}));return function(){e.forEach((function(n,t){"function"===typeof e[t].removeEventListener?e[t].removeEventListener("change",r[t]):e[t].removeListener(r[t])}))}}}),[]),l}r.Ts;r.Ts},60241:function(e,n,t){t.r(n),t.d(n,{tSubLinks:function(){return j},PostContainer:function(){return y},IndexSidebar:function(){return w}});var r=t(85893),i=t(68527),s=t(47398),o=t(1950),a=t(38671),c=t(83331),l=t(67757),u=t(30092),d=t(67294),f=t(84696),h=t(7e3),p=t(10245),v=t(62665),m=t(32532),g=t(57331),x=t(88108);n.default=function(){return(0,r.jsx)(y,{filter:"latest"})};var j=[{title:"\u6700\u65b0",path:"/translation",disabled:!1},{title:"\u70ed\u95e8",path:"/translation/recent",disabled:!1},{title:"\u9009\u9898\u6c60",path:"/translation/subjects",disabled:!1},{title:"\u7ffb\u8bd1\u8865\u5168\u8ba1\u5212",path:"/translation/about",disabled:!1}],y=function(e){var n=e.filter;(0,d.useEffect)((function(){return(0,g.Il)(!0),function(){return(0,g.Il)(!1)}}),[]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{title:l.Z.seo.title,description:l.Z.seo.description}),(0,r.jsx)(u.Z,{children:(0,r.jsxs)(i.Ug,{alignItems:"top",spacing:"3",children:[(0,r.jsxs)(i.gC,{alignItems:"left",width:["100%","100%","70%","70%"],spacing:"3",children:[(0,r.jsx)(o.ZP,{p:"2",className:"side-card",border:"none",children:(0,r.jsx)(i.kC,{justifyContent:"space-between",alignItems:"center",children:(0,r.jsx)(p.Z,{routes:j,exactPath:!0})})}),(0,r.jsx)(o.ZP,{width:"100%",height:"fit-content",p:"0",className:"side-card",border:"none",children:(0,r.jsx)(a.Z,{onLoad:function(e){return n==m.a.Featured?f.rR.get("/pin/story/list/".concat(-1,"?page=").concat(e,"&per_page=").concat(h.perPage)):f.rR.get("/story/posts/home?filter=".concat(n,"&page=").concat(e,"&per_page=").concat(h.perPage,"&t=true"))},filter:n,isInfinite:!0})})]}),(0,r.jsx)(w,{})]})})]})},w=function(){var e=(0,d.useState)("creations");e[0],e[1],(0,v.Z)().session;return(0,r.jsx)(i.gC,{alignItems:"left",width:"35%",display:{base:"none",md:"flex"},spacing:"3",children:(0,r.jsx)(i.xu,{className:"card-opaque",children:(0,r.jsx)(x.Z,{type:"tpoints",size:"md",showDivider:!0,limit:50,children:(0,r.jsx)(i.kC,{justify:"space-between",width:"100%",alignItems:"center",children:(0,r.jsx)(s.u,{label:"\u70b9\u51fb\u67e5\u770b\u6240\u6709\u699c\u5355",children:(0,r.jsx)(i.rU,{href:"/r/ranking",children:(0,r.jsx)(i.X6,{size:"xs",cursor:"pointer",children:"\u7ffb\u8bd1\u699c"})})})})})})})}},88108:function(e,n,t){var r=t(34051),i=t.n(r),s=t(85893),o=t(68527),a=t(1950),c=t(17869),l=t(62665),u=t(67294),d=t(84696),f=t(96289);function h(e,n,t,r,i,s,o){try{var a=e[s](o),c=a.value}catch(l){return void t(l)}a.done?n(c):Promise.resolve(c).then(r,i)}var p=t(82e3);n.Z=function(e){var n=e.children,t=e.type,r=(e.size,e.limit),m=void 0===r?10:r,g=e.showDivider,x=void 0!==g&&g,j=(0,u.useState)(null),y=j[0],w=j[1],b=(0,l.Z)().session;(0,u.useEffect)((function(){Z()}),[t]);var Z=function(){var e,n=(e=i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.rR.get("/ranking/interactions?type=".concat(t,"&limit=").concat(m));case 2:n=e.sent,w(n.data);case 4:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,i){var s=e.apply(n,t);function o(e){h(s,r,i,o,a,"next",e)}function a(e){h(s,r,i,o,a,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(a.ZP,{p:"0",children:[(0,s.jsx)(a.Ol,{children:n}),y&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.iz,{}),(0,s.jsx)(a.eW,{px:"0",py:"0",children:(0,s.jsx)(o.gC,{alignItems:"start",spacing:"0",children:y.map((function(e,n){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o.kC,{py:"2",px:"4",justify:"space-between",width:"100%",alignItems:"center",className:e.id==(null===b||void 0===b?void 0:b.user.id)?"highlight-bg":null,children:[(0,s.jsxs)(o.Ug,{spacing:"4",children:[(0,s.jsx)(o.xv,{layerStyle:"textSecondary",fontSize:n<3?"2xl":"md",children:(0,f.b)(n+1)}),(0,s.jsx)(c.Z,{user:e,size:"sm"})]}),(0,s.jsx)(o.xv,{minWidth:"fit-content",fontSize:"0.9rem",children:p(e.iteractions[t])+v(t)})]}),x&&(0,s.jsx)(s.Fragment,{children:n<y.length-1&&(0,s.jsx)(o.iz,{})})]})}))})})]})]})})};var v=function(e){switch(e){case"posts":return" \u6587\u7ae0";case"story_likes":case"disc_likes":case"likes":return" \u8d5e";case"answers":return" \u56de\u7b54";case"adoptions":return" \u88ab\u91c7\u7eb3";case"points":return" \u79ef\u5206";case"tpoints":return" \u7ffb\u8bd1\u5206";case"followers":return" \u7c89\u4e1d"}}},38671:function(e,n,t){var r=t(85893),i=t(67294),s=t(20949),o=t(68527),a=t(2993),c=t(64981),l=t(96486),u=t(71118),d=t(19029);function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function h(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return f(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.Z=function(e){var n=e.card,t=void 0===n?a.Z:n,f=e.showBottomDivider,p=void 0===f||f,v=e.type,m=void 0===v?"classic":v,g=e.showPinned,x=void 0!==g&&g,j=e.showOrg,y=void 0===j||j,w=e.onLoad,b=e.filter,Z=e.tagFilter,I=e.onRemove,k=e.showLiked,S=void 0!==k&&k,C=e.isInfinite,E=e.showViews,L=void 0!==E&&E,P=e.followPush,z=(0,i.useState)(0),A=z[0],F=z[1],_=(0,i.useState)(null),N=_[0],O=_[1];(0,i.useEffect)((function(){O(null),F(A+1)}),[b,Z]);var U=(0,s.ff)(c.Z.borderColor.light,c.Z.borderColor.dark),R=t;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(d.Z,{onLoad:w,onDataChange:function(e){O(l.concat.apply(void 0,[null!==N&&void 0!==N?N:[]].concat(h(e))))},isInfinite:C,children:0===(null===N||void 0===N?void 0:N.length)?(0,r.jsx)(u.Z,{}):(0,r.jsx)(o.gC,{alignItems:"left",children:null===N||void 0===N?void 0:N.map((function(n,t){return n.disables?null:(0,r.jsx)(o.xu,{py:"2",borderBottom:t<N.length-1||p?"1px solid ".concat(U):null,px:"1",children:(0,r.jsx)(R,{story:n,size:e.size,type:m,highlight:e.highlight,showPinned:x,showOrg:y,onRemove:I,showLiked:S,showViews:L,followPush:P})},n.id)}))})},A)})}}}]);