(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{9680:function(e,n,a){"use strict";a.d(n,{Y8:function(){return x},Ee:function(){return k},xL:function(){return y},ar:function(){return h}});var r=a(11604),t=a(94244),i=a(19703),o=a(67294),s=a(26450),u=a(97375),l=a(79762),c=a(1358);function d(e,n){if(null==e)return{};var a,r,t={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],n.indexOf(a)>=0||(t[a]=e[a]);return t}function v(){return v=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},v.apply(this,arguments)}var f=["onChange","value","defaultValue","name","isDisabled","isFocusable","isNative"];function h(e){void 0===e&&(e={});var n=e,a=n.onChange,r=n.value,t=n.defaultValue,l=n.name,c=n.isDisabled,h=n.isFocusable,p=n.isNative,m=d(n,f),b=o.useState(t||""),g=b[0],k=b[1],C=(0,u.pY)(r,g),y=C[0],P=C[1],w=o.useRef(null),x=o.useCallback((function(){var e=w.current;if(e){var n="input:not(:disabled):checked",a=e.querySelector(n);if(a)a.focus();else{n="input:not(:disabled)";var r=e.querySelector(n);null==r||r.focus()}}}),[]),_=(0,u.Me)(void 0,"radio"),D=l||_,R=o.useCallback((function(e){var n=(0,i.kA)(e)?e.target.value:e;y||k(n),null==a||a(String(n))}),[a,y]),N=o.useCallback((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),v({},e,{ref:(0,s.lq)(n,w),role:"radiogroup"})}),[]),B=o.useCallback((function(e,n){var a;return void 0===e&&(e={}),void 0===n&&(n=null),v({},e,((a={ref:n,name:D})[p?"checked":"isChecked"]=null!=P?e.value===P:void 0,a.onChange=R,a["data-radiogroup"]=!0,a))}),[p,D,R,P]);return{getRootProps:N,getRadioProps:B,name:D,ref:w,focus:x,setValue:k,value:P,onChange:R,isDisabled:c,isFocusable:h,htmlProps:m}}var p=["colorScheme","size","variant","children","className","isDisabled","isFocusable"],m=(0,s.kr)({name:"RadioGroupContext",strict:!1}),b=m[0],g=m[1],k=(0,r.Gp)((function(e,n){var a=e.colorScheme,t=e.size,s=e.variant,u=e.children,l=e.className,c=e.isDisabled,f=e.isFocusable,m=h(d(e,p)),g=m.value,k=m.onChange,C=m.getRootProps,y=m.name,P=m.htmlProps,w=o.useMemo((function(){return{name:y,size:t,onChange:k,colorScheme:a,value:g,variant:s,isDisabled:c,isFocusable:f}}),[y,t,k,a,g,s,c,f]),x=C(P,n),_=(0,i.cx)("chakra-radio-group",l);return o.createElement(b,{value:w},o.createElement(r.m$.div,v({},x,{className:_}),u))}));i.Ts&&(k.displayName="RadioGroup");var C=["defaultIsChecked","defaultChecked","isChecked","isFocusable","isDisabled","isReadOnly","isRequired","onChange","isInvalid","name","value","id","data-radiogroup","aria-describedby"];function y(e){void 0===e&&(e={});var n=e,a=n.defaultIsChecked,r=n.defaultChecked,t=void 0===r?a:r,s=n.isChecked,f=n.isFocusable,h=n.isDisabled,p=n.isReadOnly,m=n.isRequired,b=n.onChange,k=n.isInvalid,y=n.name,w=n.value,x=n.id,_=n["data-radiogroup"],D=n["aria-describedby"],R=d(n,C),N=(0,u.Me)(void 0,"radio"),B=(0,l.NJ)(),E=g(),F=!!B&&!(!!E||!!_)?B.id:N;F=null!=x?x:F;var O=null!=h?h:null==B?void 0:B.isDisabled,S=null!=p?p:null==B?void 0:B.isReadOnly,q=null!=m?m:null==B?void 0:B.isRequired,I=null!=k?k:null==B?void 0:B.isInvalid,M=(0,u.kt)(),j=M[0],T=M[1],L=(0,u.kt)(),G=L[0],K=L[1],$=(0,u.kt)(),z=$[0],U=$[1],V=(0,o.useState)(Boolean(t)),Y=V[0],A=V[1],H=(0,u.pY)(s,Y),Q=H[0],Z=H[1];(0,i.ZK)({condition:!!a,message:'The "defaultIsChecked" prop has been deprecated and will be removed in a future version. Please use the "defaultChecked" prop instead, which mirrors default React checkbox behavior.'});var W=(0,o.useCallback)((function(e){S||O?e.preventDefault():(Q||A(e.target.checked),null==b||b(e))}),[Q,O,S,b]),X=(0,o.useCallback)((function(e){" "===e.key&&U.on()}),[U]),J=(0,o.useCallback)((function(e){" "===e.key&&U.off()}),[U]),ee=(0,o.useCallback)((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),v({},e,{ref:n,"data-active":(0,i.PB)(z),"data-hover":(0,i.PB)(G),"data-disabled":(0,i.PB)(O),"data-invalid":(0,i.PB)(I),"data-checked":(0,i.PB)(Z),"data-focus":(0,i.PB)(j),"data-readonly":(0,i.PB)(S),"aria-hidden":!0,onMouseDown:(0,i.v0)(e.onMouseDown,U.on),onMouseUp:(0,i.v0)(e.onMouseUp,U.off),onMouseEnter:(0,i.v0)(e.onMouseEnter,K.on),onMouseLeave:(0,i.v0)(e.onMouseLeave,K.off)})}),[z,G,O,I,Z,j,S,U.on,U.off,K.on,K.off]),ne=null!=B?B:{},ae=ne.onFocus,re=ne.onBlur,te=(0,o.useCallback)((function(e,n){void 0===e&&(e={}),void 0===n&&(n=null);var a=O&&!f;return v({},e,{id:F,ref:n,type:"radio",name:y,value:w,onChange:(0,i.v0)(e.onChange,W),onBlur:(0,i.v0)(re,e.onBlur,T.off),onFocus:(0,i.v0)(ae,e.onFocus,T.on),onKeyDown:(0,i.v0)(e.onKeyDown,X),onKeyUp:(0,i.v0)(e.onKeyUp,J),checked:Z,disabled:a,readOnly:S,required:q,"aria-invalid":(0,i.Qm)(I),"aria-disabled":(0,i.Qm)(a),"aria-required":(0,i.Qm)(q),"data-readonly":(0,i.PB)(S),"aria-describedby":D,style:c.NL})}),[O,f,F,y,w,W,re,T,ae,X,J,Z,S,q,I,D]);return{state:{isInvalid:I,isFocused:j,isChecked:Z,isActive:z,isHovered:G,isDisabled:O,isReadOnly:S,isRequired:q},getCheckboxProps:ee,getInputProps:te,getLabelProps:function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),v({},e,{ref:n,onMouseDown:(0,i.v0)(e.onMouseDown,P),onTouchStart:(0,i.v0)(e.onTouchStart,P),"data-disabled":(0,i.PB)(O),"data-checked":(0,i.PB)(Z),"data-invalid":(0,i.PB)(I)})},getRootProps:function(e,n){return void 0===n&&(n=null),v({},e,{ref:n,"data-disabled":(0,i.PB)(O),"data-checked":(0,i.PB)(Z),"data-invalid":(0,i.PB)(I)})},htmlProps:R}}function P(e){e.preventDefault(),e.stopPropagation()}var w=["spacing","children","isFullWidth","isDisabled","isFocusable","inputProps"],x=(0,r.Gp)((function(e,n){var a,s=g(),u=e.onChange,l=e.value,c=(0,r.jC)("Radio",v({},s,e)),f=(0,r.Lr)(e),h=f.spacing,p=void 0===h?"0.5rem":h,m=f.children,b=f.isFullWidth,k=f.isDisabled,C=void 0===k?null==s?void 0:s.isDisabled:k,P=f.isFocusable,x=void 0===P?null==s?void 0:s.isFocusable:P,_=f.inputProps,D=d(f,w),R=e.isChecked;null!=(null==s?void 0:s.value)&&null!=l&&(R=s.value===l);var N=u;null!=s&&s.onChange&&null!=l&&(N=(0,i.PP)(s.onChange,u));var B=y(v({},D,{isChecked:R,isFocusable:x,isDisabled:C,onChange:N,name:null!=(a=null==e?void 0:e.name)?a:null==s?void 0:s.name})),E=B.getInputProps,F=B.getCheckboxProps,O=B.getLabelProps,S=B.getRootProps,q=B.htmlProps,I=(0,i.Vl)(q,t.oE),M=I[0],j=F(I[1]),T=E(_,n),L=O(),G=Object.assign({},M,S()),K=v({width:b?"full":void 0,display:"inline-flex",alignItems:"center",verticalAlign:"top",cursor:"pointer"},c.container),$=v({display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},c.control),z=v({userSelect:"none",marginStart:p},c.label);return o.createElement(r.m$.label,v({className:"chakra-radio"},G,{__css:K}),o.createElement("input",v({className:"chakra-radio__input"},T)),o.createElement(r.m$.span,v({className:"chakra-radio__control"},j,{__css:$})),m&&o.createElement(r.m$.span,v({className:"chakra-radio__label"},L,{__css:z}),m))}));i.Ts&&(x.displayName="Radio")},33441:function(e,n,a){"use strict";a.d(n,{g:function(){return l}});var r=a(79762),t=a(11604),i=a(19703),o=a(67294);function s(){return s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},s.apply(this,arguments)}var u=["className","rows"],l=(0,t.Gp)((function(e,n){var a=(0,t.mq)("Textarea",e),l=(0,t.Lr)(e),c=l.className,d=l.rows,v=function(e,n){if(null==e)return{};var a,r,t={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],n.indexOf(a)>=0||(t[a]=e[a]);return t}(l,u),f=(0,r.Yp)(v),h=d?(0,i.CE)(a,["h","minH","height","minHeight"]):a;return o.createElement(t.m$.textarea,s({ref:n,rows:d},f,{className:(0,i.cx)("chakra-textarea",c),__css:h}))}));i.Ts&&(l.displayName="Textarea")},72164:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/r/comment/[id]",function(){return a(63385)}])},63385:function(e,n,a){"use strict";a.r(n);var r=a(34051),t=a.n(r),i=a(85893),o=a(62665),s=a(11163),u=a(67294),l=a(84696),c=a(38951),d=a(68527),v=a(15193),f=a(26822);function h(e,n,a,r,t,i,o){try{var s=e[i](o),u=s.value}catch(l){return void a(l)}s.done?n(u):Promise.resolve(u).then(r,t)}function p(e){return function(){var n=this,a=arguments;return new Promise((function(r,t){var i=e.apply(n,a);function o(e){h(i,r,t,o,s,"next",e)}function s(e){h(i,r,t,o,s,"throw",e)}o(void 0)}))}}n.default=function(){var e=(0,s.useRouter)(),n=(0,o.Z)().session,a=(0,u.useState)(null),r=a[0],h=a[1];(0,u.useEffect)((function(){e.query.id&&m(e.query.id)}),[e.query.id]);var m=function(){var e=p(t().mark((function e(n){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.rR.get("".concat((0,f.vP)(n)?"/discussion/an/answer":"/story/comment","?id=").concat(n));case 2:(a=e.sent).data.replies=[],h(a.data);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),b=function(){var n=p(t().mark((function n(){var a;return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(0,f.vP)(r.id)){n.next=3;break}return e.push("/discussion/".concat(r.targetID)),n.abrupt("return");case 3:return n.next=5,l.rR.get("/story/byCommentID?id=".concat(r.id));case 5:a=n.sent,e.push(a.data+"#comments");case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,i.jsxs)(d.xu,{p:"4",children:[(0,i.jsx)(v.zx,{mb:"2",onClick:function(){return b()},children:r&&(0,f.vP)(r.id)?"\u524d\u5f80\u56de\u7b54":"\u524d\u5f80\u6587\u7ae0"}),r&&n&&(0,i.jsx)(c.ZP,{user:n.user,comment:r,onChange:null,onRemove:null,storyCreator:null})]})}}},function(e){e.O(0,[5445,4885,8703,7351,8718,2539,1111,1382,3009,2542,8951,9774,2888,179],(function(){return n=72164,e(e.s=n);var n}));var n=e.O();_N_E=n}]);