(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7332],{15734:function(n,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/r/ranking/discs",function(){return i(87082)}])},87082:function(n,e,i){"use strict";i.r(e);var t=i(85893),s=i(68527),r=i(96356),o=i(23253),c=i(88108),a=i(31324),l=i(57331),u=i(62665),d=i(67294),h=i(2508);e.default=function(){var n=(0,u.Z)().session,e=(0,d.useState)(["\u603b\u699c","\u8d8b\u52bf\u699c"]),i=e[0],p=e[1],x=(0,d.useState)("\u603b\u699c"),f=x[0],j=x[1],m=(0,d.useState)("answers"),v=m[0],g=m[1],k=(0,d.useState)("creations"),w=k[0],y=k[1];return(0,d.useEffect)((function(){(null===n||void 0===n?void 0:n.user)&&p(["\u603b\u699c",(null===n||void 0===n?void 0:n.user.category)?"\u8d8b\u52bf\u699c-\u5b50\u7ad9":"\u8d8b\u52bf\u699c-\u603b\u7ad9"])}),[n]),(0,d.useEffect)((function(){"\u603b\u699c"!=f?(0,l.Il)(!0):(0,l.Il)(!1)}),[f]),(0,t.jsx)(h.RankingContainer,{children:(0,t.jsx)(t.Fragment,{children:"\u603b\u699c"==f?(0,t.jsx)(c.Z,{type:v,size:"md",showDivider:!0,limit:50,children:(0,t.jsxs)(s.kC,{justify:"space-between",width:"100%",alignItems:"center",children:[(0,t.jsx)(s.X6,{fontSize:"md",children:"\u95ee\u7b54\u699c"}),(0,t.jsx)(o.Z,{value:f,onChange:j,options:i}),(0,t.jsxs)(s.Ug,{spacing:"1",children:[(0,t.jsx)(r.Vp,{cursor:"pointer",size:"md",variant:"answers"==v?"solid":"outline",onClick:function(){return g("answers")},children:"\u56de\u7b54\u6570"}),(0,t.jsx)(r.Vp,{cursor:"pointer",size:"md",variant:"adoptions"==v?"solid":"outline",onClick:function(){return g("adoptions")},children:"\u91c7\u7eb3\u6570"}),(0,t.jsx)(r.Vp,{cursor:"pointer",size:"md",variant:"disc_likes"==v?"solid":"outline",onClick:function(){return g("disc_likes")},children:"\u83b7\u8d5e\u6570"})]})]})}):(0,t.jsx)(a.Z,{filter:"answers",type:w,size:"md",showDivider:!0,limit:50,children:(0,t.jsxs)(s.kC,{justify:"space-between",width:"100%",alignItems:"center",children:[(0,t.jsx)(s.X6,{fontSize:"md",children:"\u95ee\u7b54\u699c"}),(0,t.jsx)(o.Z,{value:f,onChange:j,options:i}),(0,t.jsxs)(s.Ug,{spacing:"1",children:[(0,t.jsx)(r.Vp,{cursor:"pointer",size:"md",variant:"creations"==w?"solid":"outline",onClick:function(){return y("creations")},children:"\u56de\u7b54\u6570"}),(0,t.jsx)(r.Vp,{cursor:"pointer",size:"md",variant:"adoptions"==w?"solid":"outline",onClick:function(){return y("adoptions")},children:"\u91c7\u7eb3\u6570"}),(0,t.jsx)(r.Vp,{cursor:"pointer",size:"md",variant:"likes"==w?"solid":"outline",onClick:function(){return y("likes")},children:"\u83b7\u8d5e\u6570"})]})]})})})})}},2508:function(n,e,i){"use strict";i.r(e),i.d(e,{RankingContainer:function(){return m}});var t=i(85893),s=i(68527),r=i(96356),o=i(11604),c=i(34651),a=i(23253),l=i(88108),u=i(31324),d=i(57331),h=i(62665),p=i(30092),x=i(41664),f=i(11163),j=i(67294);e.default=function(){var n=(0,h.Z)().session,e=(0,j.useState)(["\u603b\u699c","\u8d8b\u52bf\u699c"]),i=e[0],o=e[1];(0,j.useEffect)((function(){(null===n||void 0===n?void 0:n.user)&&o(["\u603b\u699c",(null===n||void 0===n?void 0:n.user.category)?"\u8d8b\u52bf\u699c-\u5b50\u7ad9":"\u8d8b\u52bf\u699c-\u603b\u7ad9"])}),[n]);var c=(0,j.useState)("\u603b\u699c"),p=c[0],x=c[1],f=(0,j.useState)("posts"),v=f[0],g=f[1],k=(0,j.useState)("creations"),w=k[0],y=k[1];return(0,j.useEffect)((function(){"\u603b\u699c"!=p?(0,d.Il)(!0):(0,d.Il)(!1)}),[p]),(0,t.jsx)(m,{children:(0,t.jsx)(t.Fragment,{children:"\u603b\u699c"==p?(0,t.jsx)(l.Z,{type:v,size:"md",showDivider:!0,limit:50,children:(0,t.jsxs)(s.kC,{justify:"space-between",width:"100%",alignItems:"center",children:[(0,t.jsx)(s.X6,{fontSize:"md",children:"\u6587\u7ae0\u521b\u4f5c\u699c"}),(0,t.jsx)(a.Z,{value:p,onChange:x,options:i}),(0,t.jsxs)(s.Ug,{spacing:"1",children:[(0,t.jsx)(r.Vp,{cursor:"pointer",size:"md",variant:"posts"==v?"solid":"outline",onClick:function(){return g("posts")},children:"\u6587\u7ae0\u6570"}),(0,t.jsx)(r.Vp,{cursor:"pointer",size:"md",variant:"story_likes"==v?"solid":"outline",onClick:function(){return g("story_likes")},children:"\u83b7\u8d5e\u6570"})]})]})}):(0,t.jsx)(u.Z,{filter:"story",type:w,size:"md",showDivider:!0,limit:50,children:(0,t.jsxs)(s.kC,{justify:"space-between",width:"100%",alignItems:"center",children:[(0,t.jsx)(s.X6,{fontSize:"md",children:"\u6587\u7ae0\u521b\u4f5c\u699c"}),(0,t.jsx)(a.Z,{value:p,onChange:x,options:i}),(0,t.jsxs)(s.Ug,{spacing:"1",children:[(0,t.jsx)(r.Vp,{cursor:"pointer",size:"md",variant:"creations"==w?"solid":"outline",onClick:function(){return y("creations")},children:"\u6587\u7ae0\u6570"}),(0,t.jsx)(r.Vp,{cursor:"pointer",size:"md",variant:"likes"==w?"solid":"outline",onClick:function(){return y("likes")},children:"\u83b7\u8d5e\u6570"})]})]})})})})};var m=function(n){var e=n.children,i=(0,f.useRouter)();return(0,t.jsx)(p.Z,{title:"\u793e\u533a\u6392\u884c\u699c",children:(0,t.jsxs)(s.xu,{mx:"auto",maxW:"900px",children:[(0,t.jsxs)(s.M5,{children:[(0,t.jsxs)(s.X6,{minWidth:"fit-content",children:["\u793e\u533a",(0,t.jsx)(o.m$.span,{layerStyle:"gradientText",children:"\u6392\u884c\u699c"})]}),(0,t.jsx)(s.Ug,{children:(0,t.jsx)(c.Ee,{width:"200px",src:"https://cdn.hashnode.com/res/hashnode/image/upload/v1643231557989/WC495Po6m2.png?auto=compress"})})]}),(0,t.jsx)(s.iz,{mt:"4"}),(0,t.jsxs)(s.Ug,{alignItems:"start",children:[(0,t.jsx)(s.gC,{spacing:"0",alignItems:"left",width:{base:"100px",md:"150px"},pos:"fixed",children:v.map((function(n){return(0,t.jsx)(x.default,{href:n.path,children:(0,t.jsx)(s.xv,{p:"2",className:i.asPath==n.path?"highlight-bg":null,cursor:"pointer",children:n.title})})}))}),(0,t.jsx)(s.xu,{width:"80%",marginLeft:{base:"110px !important",md:"170px !important"},className:"card-opaque",children:e})]})]})})},v=[{path:"/r/ranking",title:"\u521b\u4f5c\u699c"},{path:"/r/ranking/discs",title:"\u95ee\u7b54\u699c"},{path:"/r/ranking/users",title:"\u7528\u6237\u699c"},{path:"/r/ranking/translate",title:"\u7ffb\u8bd1\u699c"}]},23253:function(n,e,i){"use strict";var t=i(85893),s=(i(67294),i(68527)),r=i(15193),o=i(32532);e.Z=function(n){var e=n.onChange,i=n.value,c=void 0===i?o.a.Latest:i,a=n.options,l=n.size,u=void 0===l?"sm":l;return(0,t.jsx)(s.Ug,{spacing:"0",children:a.map((function(n){return(0,t.jsx)(r.zx,{onClick:function(){return e(n)},size:u,colorScheme:c===n?"brand":"grey",variant:c===n?"solid":"ghost",_focus:{border:null},children:n},n)}))})}},88108:function(n,e,i){"use strict";var t=i(34051),s=i.n(t),r=i(85893),o=i(68527),c=i(1950),a=i(17869),l=i(62665),u=i(67294),d=i(84696),h=i(96289);function p(n,e,i,t,s,r,o){try{var c=n[r](o),a=c.value}catch(l){return void i(l)}c.done?e(a):Promise.resolve(a).then(t,s)}var x=i(82e3);e.Z=function(n){var e=n.children,i=n.type,t=(n.size,n.limit),j=void 0===t?10:t,m=n.showDivider,v=void 0!==m&&m,g=(0,u.useState)(null),k=g[0],w=g[1],y=(0,l.Z)().session;(0,u.useEffect)((function(){z()}),[i]);var z=function(){var n,e=(n=s().mark((function n(){var e;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.rR.get("/ranking/interactions?type=".concat(i,"&limit=").concat(j));case 2:e=n.sent,w(e.data);case 4:case"end":return n.stop()}}),n)})),function(){var e=this,i=arguments;return new Promise((function(t,s){var r=n.apply(e,i);function o(n){p(r,t,s,o,c,"next",n)}function c(n){p(r,t,s,o,c,"throw",n)}o(void 0)}))});return function(){return e.apply(this,arguments)}}();return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(c.ZP,{p:"0",children:[(0,r.jsx)(c.Ol,{children:e}),k&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.iz,{}),(0,r.jsx)(c.eW,{px:"0",py:"0",children:(0,r.jsx)(o.gC,{alignItems:"start",spacing:"0",children:k.map((function(n,e){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.kC,{py:"2",px:"4",justify:"space-between",width:"100%",alignItems:"center",className:n.id==(null===y||void 0===y?void 0:y.user.id)?"highlight-bg":null,children:[(0,r.jsxs)(o.Ug,{spacing:"4",children:[(0,r.jsx)(o.xv,{layerStyle:"textSecondary",fontSize:e<3?"2xl":"md",children:(0,h.b)(e+1)}),(0,r.jsx)(a.Z,{user:n,size:"sm"})]}),(0,r.jsx)(o.xv,{minWidth:"fit-content",fontSize:"0.9rem",children:x(n.iteractions[i])+f(i)})]}),v&&(0,r.jsx)(r.Fragment,{children:e<k.length-1&&(0,r.jsx)(o.iz,{})})]})}))})})]})]})})};var f=function(n){switch(n){case"posts":return" \u6587\u7ae0";case"story_likes":case"disc_likes":case"likes":return" \u8d5e";case"answers":return" \u56de\u7b54";case"adoptions":return" \u88ab\u91c7\u7eb3";case"points":return" \u79ef\u5206";case"tpoints":return" \u7ffb\u8bd1\u5206";case"followers":return" \u7c89\u4e1d"}}}},function(n){n.O(0,[5445,4885,4617,1921,1228,8703,7351,8718,2539,1111,3649,9177,3009,6771,1926,9840,9774,2888,179],(function(){return e=15734,n(n.s=e);var e}));var e=n.O();_N_E=e}]);