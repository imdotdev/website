(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3893],{23839:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/badges",function(){return t(27870)}])},83504:function(e,r,t){"use strict";var n=t(85893),i=t(68527),l=t(1950),a=t(62665),c=t(24871),o=t(96486),s=t(67294),u=t(63091),f=t(70577);function d(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function v(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){d(e,r,t[r])}))}return e}function h(e,r){if(null==e)return{};var t,n,i=function(e,r){if(null==e)return{};var t,n,i={},l=Object.keys(e);for(n=0;n<l.length;n++)t=l[n],r.indexOf(t)>=0||(i[t]=e[t]);return i}(e,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)t=l[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}r.Z=function(e){var r=e.title,t=e.routes,d=e.children,p=e.p,b=h(e,["title","routes","children","p"]),x=(0,a.Z)().session,m=(0,s.useState)(t),y=m[0],j=m[1];return(0,s.useEffect)((function(){if(null===x||void 0===x?void 0:x.user){var e=!0,r=!1,t=void 0;try{for(var n,i=y[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var l=n.value;l.minRole==u.u.ContentAdmin?l.disabled=!(0,f.SL)(x.user.role):l.minRole==u.u.ADMIN&&(l.disabled=!(0,f.GJ)(x.user.role))}}catch(a){r=!0,t=a}finally{try{e||null==i.return||i.return()}finally{if(r)throw t}}}j((0,o.cloneDeep)(y))}),[null===x||void 0===x?void 0:x.user]),(0,n.jsxs)(i.xu,{display:"flex",children:[(0,n.jsx)(c.Z,v({routes:y,title:r},b)),(0,n.jsx)(l.ZP,{className:"side-card",ml:"4",width:"100%",p:null!==p&&void 0!==p?p:6,pb:"1",children:d})]})}},99901:function(e,r,t){"use strict";var n=t(85893),i=t(11604),l=t(20949),a=t(41664),c=t(11163);function o(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){o(e,r,t[r])}))}return e}function u(e,r){if(null==e)return{};var t,n,i=function(e,r){if(null==e)return{};var t,n,i={},l=Object.keys(e);for(n=0;n<l.length;n++)t=l[n],r.indexOf(t)>=0||(i[t]=e[t]);return i}(e,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)t=l[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var f=t(67294).forwardRef((function(e,r){var t=e.isActive,a=e.icon,c=e.children,o=u(e,["isActive","icon","children"]);return(0,n.jsxs)(i.m$.a,s({"aria-current":t?"page":void 0,width:"100%",px:"3",py:"2",rounded:"md",ref:r,fontSize:"1rem",fontWeight:"bold",color:(0,l.ff)("gray.700","whiteAlpha.900"),transition:"all 0.2s",display:"flex",alignItems:"center",className:"hover-bg",_activeLink:{color:(0,l.ff)("var(--chakra-colors-brand-500)","brand.200"),fontWeight:"600"}},o,{children:[a&&(0,n.jsx)(i.m$.span,{mr:"5",fontSize:"1.1rem",display:{base:"none",md:"block"},width:"20px",children:a}),(0,n.jsx)(i.m$.span,{children:c})]}))}));r.Z=function(e){var r,t=e.href,l=e.icon,o=e.children,d=e.query,v=e.exactPath,h=void 0!==v&&v,p=u(e,["href","icon","children","query","exactPath"]),b=(0,c.useRouter)().asPath;return r=h?b.split("?")[0]==encodeURI(t):b.startsWith(encodeURI(t)),(0,n.jsx)(i.m$.div,s({userSelect:"none",display:"flex",alignItems:"center",lineHeight:"1.5rem"},p,{children:(0,n.jsx)(a.default,{href:{pathname:t,query:d},passHref:!0,children:(0,n.jsx)(f,{isActive:r,icon:l,children:o})})}))}},24871:function(e,r,t){"use strict";var n=t(85893),i=t(68527),l=t(1950),a=t(11163),c=t(67294),o=t(99901);function s(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function u(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){s(e,r,t[r])}))}return e}function f(e,r){if(null==e)return{};var t,n,i=function(e,r){if(null==e)return{};var t,n,i={},l=Object.keys(e);for(n=0;n<l.length;n++)t=l[n],r.indexOf(t)>=0||(i[t]=e[t]);return i}(e,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)t=l[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function d(e){var r=e.routes,t=(e.pathname,e.contentRef,f(e,["routes","pathname","contentRef"]));return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(i.Kq,{as:"ul",children:r.map((function(e){return e.disabled?null:(0,n.jsx)(o.Z,u({as:"li",href:e.path,icon:e.icon},t,{children:(0,n.jsx)("span",{children:e.title})}),e.path)}))})})}r.Z=function(e){var r=e.routes,t=e.title,o=f(e,["routes","title"]),s=(0,a.useRouter)().pathname,v=c.useRef(null);return(0,n.jsxs)(i.gC,{alignItems:"left",width:["180px","180px","250px","250px"],height:"fit-content",children:[(0,n.jsx)(l.ZP,{p:"5",className:"side-card",children:(0,n.jsx)(i.X6,{size:"md",fontSize:"1.3rem",children:t})}),(0,n.jsx)(l.ZP,u({p:"0",className:"side-card"},o,{children:(0,n.jsx)(i.xu,{ref:v,as:"nav","aria-label":"Main Navigation",pos:"sticky",sx:{overscrollBehavior:"contain"},top:"8.5rem",p:"3",overflowY:"auto",className:"sidebar-content",flexShrink:0,children:(0,n.jsx)(d,u({routes:r,pathname:s,contentRef:v},o))})}))]})}},27870:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return m}});var n=t(85893),i=t(68527),l=t(34051),a=t.n(l),c=t(47398),o=t(96356),s=t(34651),u=t(67294),f=t(84696);function d(e,r,t,n,i,l,a){try{var c=e[l](a),o=c.value}catch(s){return void t(s)}c.done?r(o):Promise.resolve(o).then(n,i)}var v=function(e){var r=e.userId,t=(0,u.useState)(null),l=(t[0],t[1]),v=(0,u.useState)(null),h=v[0],p=v[1];(0,u.useEffect)((function(){b()}),[]);var b=function(){var e,t=(e=a().mark((function e(){var t,n,i,c,o,s,u,d,v,h,b,x,m,y,j,g,O,w,S,P;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.rR.get("/badges");case 2:return t=e.sent,e.next=5,f.rR.get("/user/badges?id=".concat(r));case 5:n=e.sent,i=t.data,c=n.data,o=[],s=!0,u=!1,d=void 0,e.prev=10,v=i[Symbol.iterator]();case 12:if(s=(h=v.next()).done){e.next=50;break}b=h.value,x=!0,m=!1,y=void 0,e.prev=15,j=c[Symbol.iterator]();case 17:if(x=(g=j.next()).done){e.next=28;break}if((O=g.value).id!=b.id){e.next=25;break}return b.active=!0,b.level=O.level,b.created=O.created,o.unshift(b),e.abrupt("break",28);case 25:x=!0,e.next=17;break;case 28:e.next=34;break;case 30:e.prev=30,e.t0=e.catch(15),m=!0,y=e.t0;case 34:e.prev=34,e.prev=35,x||null==j.return||j.return();case 37:if(e.prev=37,!m){e.next=40;break}throw y;case 40:return e.finish(37);case 41:return e.finish(34);case 42:b.level=null!==(w=b.level)&&void 0!==w?w:0,b.level>0?b.title="".concat(b.title," Lv").concat(b.level):b.levels&&(b.title="".concat(b.title," Lv1")),b.levels&&b.levels.length>0&&(b.level>0?b.aquire=b.aquire.replace("X",null===(S=b.levels[b.level-1])||void 0===S?void 0:S.toString()):b.aquire=b.aquire.replace("X",null===(P=b.levels[0])||void 0===P?void 0:P.toString())),b.active||o.push(b);case 47:s=!0,e.next=12;break;case 50:e.next=56;break;case 52:e.prev=52,e.t1=e.catch(10),u=!0,d=e.t1;case 56:e.prev=56,e.prev=57,s||null==v.return||v.return();case 59:if(e.prev=59,!u){e.next=62;break}throw d;case 62:return e.finish(59);case 63:return e.finish(56);case 64:p(o),l(c);case 66:case"end":return e.stop()}}),e,null,[[10,52,56,64],[15,30,34,42],[35,,37,41],[57,,59,63]])})),function(){var r=this,t=arguments;return new Promise((function(n,i){var l=e.apply(r,t);function a(e){d(l,n,i,a,c,"next",e)}function c(e){d(l,n,i,a,c,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),x=function(e,r){return e.level>0?e.level==r+1?"brand":"gray":e.levels&&e.level==r?"brand":"gray"};return(0,n.jsx)(n.Fragment,{children:h&&(0,n.jsx)(i.Eq,{spacing:"8",py:"4",children:h.map((function(e){return(0,n.jsxs)(i.gC,{width:["100%","100%","50%","30%"],className:"bordered",px:"2",py:"4",children:[(0,n.jsxs)(i.X6,{size:"sm",children:[e.active?(0,n.jsx)(c.u,{label:"\u4e8e ".concat(e.created," \u83b7\u53d6"),children:(0,n.jsx)(o.Vp,{mr:"1",children:"\u5df2\u83b7\u53d6"})}):null,e.title]}),(0,n.jsx)(s.Ee,{src:e.icon,w:"200px",h:"200px"}),(0,n.jsxs)(i.xv,{pt:"4",height:"60px",fontWeight:"extrabold",children:[e.limited?(0,n.jsx)(o.Vp,{colorScheme:"orange",children:"\u9650\u5b9a"}):null,"\u83b7\u53d6\u6761\u4ef6: ",e.aquire]}),(0,n.jsx)(i.xv,{height:"60px",layerStyle:"textSecondary",fontSize:".95rem",children:e.desc}),e.levels&&(0,n.jsx)(i.Ug,{children:e.levels.map((function(r,t){return(0,n.jsx)(c.u,{label:e.levels[t],children:(0,n.jsxs)(o.Vp,{size:"sm",colorScheme:x(e,t),cursor:"pointer",children:["Lv",t+1]})})}))})]})}))})})},h=t(62665),p=t(83504),b=t(30092),x=t(41039),m=function(){var e=(0,h.Z)().session;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(b.Z,{title:"\u7528\u6237\u4e2d\u5fc3-\u603b\u89c8",children:(0,n.jsx)(p.Z,{title:"\u7528\u6237\u4e2d\u5fc3",routes:x.S$,children:(0,n.jsx)(i.gC,{alignItems:"left",spacing:"6",children:e&&(0,n.jsx)(v,{userId:e.user.id})})})})})}}},function(e){e.O(0,[5445,4885,4617,1921,1228,8703,7351,8718,2539,1111,3649,9177,3009,6771,1926,9840,9774,2888,179],(function(){return r=23839,e(e.s=r);var r}));var r=e.O();_N_E=r}]);