(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6556],{77328:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/tag-moderator",function(){return t(60625)}])},83504:function(e,n,t){"use strict";var r=t(85893),i=t(68527),o=t(1950),c=t(62665),s=t(24871),l=t(96486),a=t(67294),u=t(63091),f=t(70577);function d(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){d(e,n,t[n])}))}return e}function p(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}n.Z=function(e){var n=e.title,t=e.routes,d=e.children,x=e.p,b=p(e,["title","routes","children","p"]),m=(0,c.Z)().session,j=(0,a.useState)(t),v=j[0],y=j[1];return(0,a.useEffect)((function(){if(null===m||void 0===m?void 0:m.user){var e=!0,n=!1,t=void 0;try{for(var r,i=v[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;o.minRole==u.u.ContentAdmin?o.disabled=!(0,f.SL)(m.user.role):o.minRole==u.u.ADMIN&&(o.disabled=!(0,f.GJ)(m.user.role))}}catch(c){n=!0,t=c}finally{try{e||null==i.return||i.return()}finally{if(n)throw t}}}y((0,l.cloneDeep)(v))}),[null===m||void 0===m?void 0:m.user]),(0,r.jsxs)(i.xu,{display:"flex",children:[(0,r.jsx)(s.Z,h({routes:v,title:n},b)),(0,r.jsx)(o.ZP,{className:"side-card",ml:"4",width:"100%",p:null!==x&&void 0!==x?x:6,pb:"1",children:d})]})}},99901:function(e,n,t){"use strict";var r=t(85893),i=t(11604),o=t(20949),c=t(41664),s=t(11163);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){l(e,n,t[n])}))}return e}function u(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var f=t(67294).forwardRef((function(e,n){var t=e.isActive,c=e.icon,s=e.children,l=u(e,["isActive","icon","children"]);return(0,r.jsxs)(i.m$.a,a({"aria-current":t?"page":void 0,width:"100%",px:"3",py:"2",rounded:"md",ref:n,fontSize:"1rem",fontWeight:"bold",color:(0,o.ff)("gray.700","whiteAlpha.900"),transition:"all 0.2s",display:"flex",alignItems:"center",className:"hover-bg",_activeLink:{color:(0,o.ff)("var(--chakra-colors-brand-500)","brand.200"),fontWeight:"600"}},l,{children:[c&&(0,r.jsx)(i.m$.span,{mr:"5",fontSize:"1.1rem",display:{base:"none",md:"block"},width:"20px",children:c}),(0,r.jsx)(i.m$.span,{children:s})]}))}));n.Z=function(e){var n,t=e.href,o=e.icon,l=e.children,d=e.query,h=e.exactPath,p=void 0!==h&&h,x=u(e,["href","icon","children","query","exactPath"]),b=(0,s.useRouter)().asPath;return n=p?b.split("?")[0]==encodeURI(t):b.startsWith(encodeURI(t)),(0,r.jsx)(i.m$.div,a({userSelect:"none",display:"flex",alignItems:"center",lineHeight:"1.5rem"},x,{children:(0,r.jsx)(c.default,{href:{pathname:t,query:d},passHref:!0,children:(0,r.jsx)(f,{isActive:n,icon:o,children:l})})}))}},24871:function(e,n,t){"use strict";var r=t(85893),i=t(68527),o=t(1950),c=t(11163),s=t(67294),l=t(99901);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){a(e,n,t[n])}))}return e}function f(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function d(e){var n=e.routes,t=(e.pathname,e.contentRef,f(e,["routes","pathname","contentRef"]));return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.Kq,{as:"ul",children:n.map((function(e){return e.disabled?null:(0,r.jsx)(l.Z,u({as:"li",href:e.path,icon:e.icon},t,{children:(0,r.jsx)("span",{children:e.title})}),e.path)}))})})}n.Z=function(e){var n=e.routes,t=e.title,l=f(e,["routes","title"]),a=(0,c.useRouter)().pathname,h=s.useRef(null);return(0,r.jsxs)(i.gC,{alignItems:"left",width:["180px","180px","250px","250px"],height:"fit-content",children:[(0,r.jsx)(o.ZP,{p:"5",className:"side-card",children:(0,r.jsx)(i.X6,{size:"md",fontSize:"1.3rem",children:t})}),(0,r.jsx)(o.ZP,u({p:"0",className:"side-card"},l,{children:(0,r.jsx)(i.xu,{ref:h,as:"nav","aria-label":"Main Navigation",pos:"sticky",sx:{overscrollBehavior:"contain"},top:"8.5rem",p:"3",overflowY:"auto",className:"sidebar-content",flexShrink:0,children:(0,r.jsx)(d,u({routes:n,pathname:a,contentRef:h},l))})}))]})}},60625:function(e,n,t){"use strict";t.r(n);var r=t(34051),i=t.n(r),o=t(85893),c=t(97375),s=t(68527),l=t(15193),a=t(88718),u=t(6886),f=t(67294),d=t(41039),h=t(84696),p=t(30092),x=t(71118),b=t(83504),m=t(33539),j=t(56184),v=t(11163);function y(e,n,t,r,i,o,c){try{var s=e[o](c),l=s.value}catch(a){return void t(a)}s.done?n(l):Promise.resolve(l).then(r,i)}function g(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function c(e){y(o,r,i,c,s,"next",e)}function s(e){y(o,r,i,c,s,"throw",e)}c(void 0)}))}}n.default=function(){var e=(0,v.useRouter)(),n=(0,f.useState)([]),t=n[0],r=n[1],y=(0,f.useState)([]),O=(y[0],y[1]),w=(0,f.useState)(null),S=(w[0],w[1]),P=(0,c.qY)(),k=P.isOpen,N=P.onOpen,R=P.onClose,Z=function(){var e=g(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.rR.get("/tag/list/byUserModeratorRole");case 2:n=e.sent,r(n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,f.useEffect)((function(){Z()}),[]);!function(){var e=g(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(n),e.next=3,h.rR.get("/tag/disalbedStories/".concat(n.id));case 3:t=e.sent,O(t.data);case 5:case"end":return e.stop()}}),e)})))}();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.Z,{title:"\u7528\u6237\u4e2d\u5fc3-\u6807\u7b7e\u7ba1\u7406",children:(0,o.jsxs)(b.Z,{title:"\u7528\u6237\u4e2d\u5fc3",routes:d.S$,children:[(0,o.jsxs)(s.kC,{justify:"space-between",alignItems:"center",children:[(0,o.jsx)(s.xv,{fontSize:".95rem",fontWeight:"600",children:"\u4f60\u662f\u4ee5\u4e0b\u6807\u7b7e\u7684\u7ba1\u7406\u5458\uff0c\u53ef\u4ee5\u4fee\u6539\u6807\u7b7e\u7684\u63cf\u8ff0\uff0c\u7ba1\u7406\u5176\u4e2d\u7684\u6587\u7ae0\u5217\u8868"}),(0,o.jsx)(l.zx,{size:"sm",onClick:N,children:"\u7533\u8bf7\u521b\u5efa\u6807\u7b7e"})]}),(0,o.jsx)(s.iz,{my:"6"}),0===t.length?(0,o.jsx)(x.Z,{}):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(s.gC,{mt:"4",children:t.map((function(n){return(0,o.jsxs)(s.xu,{width:"100%",className:e.query.id===n.id?"highlight-bordered":null,children:[(0,o.jsx)(m.Z,{onEdit:function(){return function(e){window.open("".concat(j.N.Admin,"/tag/").concat(e.name))}(n)},tag:n,showActions:!0}),(0,o.jsx)(s.iz,{py:"1"})]},n.id)}))})})]})}),(0,o.jsxs)(a.u_,{isOpen:k,onClose:R,children:[(0,o.jsx)(a.ZA,{}),(0,o.jsxs)(a.hz,{children:[(0,o.jsx)(a.xB,{children:"\u7533\u8bf7\u521b\u5efa\u6807\u7b7e"}),(0,o.jsx)(a.fe,{children:(0,o.jsxs)(u.bZ,{status:"info",children:[(0,o.jsx)(u.zM,{}),(0,o.jsxs)(s.xu,{children:[(0,o.jsx)(s.xv,{children:"\u6ce8\u610f\uff1a\u4e0d\u662f\u6240\u6709\u7684\u7533\u8bf7\u90fd\u80fd\u901a\u8fc7\uff0c\u6807\u7b7e\u662f\u793e\u533a\u5185\u5bb9\u5efa\u8bbe\u4e2d\u975e\u5e38\u91cd\u8981\u7684\u4e00\u73af\uff0c\u56e0\u6b64\u5ba1\u6838\u4f1a\u76f8\u5bf9\u4e25\u683c\u3002"}),(0,o.jsx)(s.xv,{mt:"2",layerStyle:"textSecondary",children:"\u5f53\u7533\u8bf7\u7684\u6807\u7b7e\u901a\u8fc7\u540e\uff0c\u4f60\u5c06\u81ea\u52a8\u6210\u4e3a\u6807\u7b7e\u7ba1\u7406\u5458"})]})]})}),(0,o.jsxs)(a.mz,{children:[(0,o.jsx)(l.zx,{colorScheme:"blue",mr:3,onClick:R,children:"\u53d6\u6d88"}),(0,o.jsx)(l.zx,{variant:"ghost",onClick:function(){return e.push("".concat(j.N.Admin,"/tag/apply"))},children:"\u786e\u8ba4\u7533\u8bf7"})]})]})]})]})}}},function(e){e.O(0,[5445,4885,4617,1921,1228,8703,7351,8718,2539,1111,3649,9177,7763,5888,3009,6771,1926,9840,2993,5769,6942,3539,9774,2888,179],(function(){return n=77328,e(e.s=n);var n}));var n=e.O();_N_E=n}]);