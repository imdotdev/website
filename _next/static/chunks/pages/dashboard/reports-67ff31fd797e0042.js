(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3424],{40554:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/reports",function(){return n(41963)}])},83504:function(e,r,n){"use strict";var t=n(85893),i=n(68527),o=n(1950),l=n(62665),c=n(24871),s=n(96486),a=n(67294),u=n(63091),f=n(70577);function d(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function h(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){d(e,r,n[r])}))}return e}function p(e,r){if(null==e)return{};var n,t,i=function(e,r){if(null==e)return{};var n,t,i={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],r.indexOf(n)>=0||(i[n]=e[n]);return i}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)n=o[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}r.Z=function(e){var r=e.title,n=e.routes,d=e.children,b=e.p,m=p(e,["title","routes","children","p"]),y=(0,l.Z)().session,j=(0,a.useState)(n),v=j[0],x=j[1];return(0,a.useEffect)((function(){if(null===y||void 0===y?void 0:y.user){var e=!0,r=!1,n=void 0;try{for(var t,i=v[Symbol.iterator]();!(e=(t=i.next()).done);e=!0){var o=t.value;o.minRole==u.u.ContentAdmin?o.disabled=!(0,f.SL)(y.user.role):o.minRole==u.u.ADMIN&&(o.disabled=!(0,f.GJ)(y.user.role))}}catch(l){r=!0,n=l}finally{try{e||null==i.return||i.return()}finally{if(r)throw n}}}x((0,s.cloneDeep)(v))}),[null===y||void 0===y?void 0:y.user]),(0,t.jsxs)(i.xu,{display:"flex",children:[(0,t.jsx)(c.Z,h({routes:v,title:r},m)),(0,t.jsx)(o.ZP,{className:"side-card",ml:"4",width:"100%",p:null!==b&&void 0!==b?b:6,pb:"1",children:d})]})}},99901:function(e,r,n){"use strict";var t=n(85893),i=n(11604),o=n(20949),l=n(41664),c=n(11163);function s(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function a(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){s(e,r,n[r])}))}return e}function u(e,r){if(null==e)return{};var n,t,i=function(e,r){if(null==e)return{};var n,t,i={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],r.indexOf(n)>=0||(i[n]=e[n]);return i}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)n=o[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var f=n(67294).forwardRef((function(e,r){var n=e.isActive,l=e.icon,c=e.children,s=u(e,["isActive","icon","children"]);return(0,t.jsxs)(i.m$.a,a({"aria-current":n?"page":void 0,width:"100%",px:"3",py:"2",rounded:"md",ref:r,fontSize:"1rem",fontWeight:"bold",color:(0,o.ff)("gray.700","whiteAlpha.900"),transition:"all 0.2s",display:"flex",alignItems:"center",className:"hover-bg",_activeLink:{color:(0,o.ff)("var(--chakra-colors-brand-500)","brand.200"),fontWeight:"600"}},s,{children:[l&&(0,t.jsx)(i.m$.span,{mr:"5",fontSize:"1.1rem",display:{base:"none",md:"block"},width:"20px",children:l}),(0,t.jsx)(i.m$.span,{children:c})]}))}));r.Z=function(e){var r,n=e.href,o=e.icon,s=e.children,d=e.query,h=e.exactPath,p=void 0!==h&&h,b=u(e,["href","icon","children","query","exactPath"]),m=(0,c.useRouter)().asPath;return r=p?m.split("?")[0]==encodeURI(n):m.startsWith(encodeURI(n)),(0,t.jsx)(i.m$.div,a({userSelect:"none",display:"flex",alignItems:"center",lineHeight:"1.5rem"},b,{children:(0,t.jsx)(l.default,{href:{pathname:n,query:d},passHref:!0,children:(0,t.jsx)(f,{isActive:r,icon:o,children:s})})}))}},24871:function(e,r,n){"use strict";var t=n(85893),i=n(68527),o=n(1950),l=n(11163),c=n(67294),s=n(99901);function a(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function u(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){a(e,r,n[r])}))}return e}function f(e,r){if(null==e)return{};var n,t,i=function(e,r){if(null==e)return{};var n,t,i={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],r.indexOf(n)>=0||(i[n]=e[n]);return i}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)n=o[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d(e){var r=e.routes,n=(e.pathname,e.contentRef,f(e,["routes","pathname","contentRef"]));return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(i.Kq,{as:"ul",children:r.map((function(e){return e.disabled?null:(0,t.jsx)(s.Z,u({as:"li",href:e.path,icon:e.icon},n,{children:(0,t.jsx)("span",{children:e.title})}),e.path)}))})})}r.Z=function(e){var r=e.routes,n=e.title,s=f(e,["routes","title"]),a=(0,l.useRouter)().pathname,h=c.useRef(null);return(0,t.jsxs)(i.gC,{alignItems:"left",width:["180px","180px","250px","250px"],height:"fit-content",children:[(0,t.jsx)(o.ZP,{p:"5",className:"side-card",children:(0,t.jsx)(i.X6,{size:"md",fontSize:"1.3rem",children:n})}),(0,t.jsx)(o.ZP,u({p:"0",className:"side-card"},s,{children:(0,t.jsx)(i.xu,{ref:h,as:"nav","aria-label":"Main Navigation",pos:"sticky",sx:{overscrollBehavior:"contain"},top:"8.5rem",p:"3",overflowY:"auto",className:"sidebar-content",flexShrink:0,children:(0,t.jsx)(d,u({routes:r,pathname:a,contentRef:h},s))})}))]})}},41963:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return v}});var t,i=n(85893),o=n(68527),l=n(96356),c=n(11604),s=n(47398),a=n(67294),u=n(41039),f=n(84696),d=n(30092),h=n(71118);!function(e){e[e.Undealed=1]="Undealed",e[e.Confirmed=2]="Confirmed",e[e.Ingored=3]="Ingored",e[e.Misreport=4]="Misreport"}(t||(t={}));var p=n(30381),b=n.n(p),m=n(26822),y=n(83504),j=n(11163),v=function(){var e=(0,j.useRouter)(),r=(0,a.useState)([]),n=r[0],p=r[1],v=(0,a.useState)(0),x=v[0],g=v[1];(0,a.useEffect)((function(){f.rR.get("/report/user/list").then((function(e){p(e.data),S(e.data)}))}),[]);var O=function(e){switch(e){case m.iJ.Post:return"\u6587\u7ae0";case m.iJ.Comment:return"\u8bc4\u8bba"}},w=function(e){switch(e){case t.Undealed:return"\u7b49\u5f85\u5904\u7406";case t.Confirmed:return"\u6210\u529f\u76d1\u5bdf";case t.Ingored:return"\u65e0\u6548\u76d1\u5bdf";case t.Misreport:return"\u5b58\u5728\u8bef\u62a5"}},P=function(e){switch(e){case t.Undealed:return null;case t.Confirmed:return"green";case t.Ingored:return"gray";case t.Misreport:return"orange"}},S=function(e){var r=0,n=!0,i=!1,o=void 0;try{for(var l,c=e[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){l.value.status==t.Confirmed&&r++}}catch(s){i=!0,o=s}finally{try{n||null==c.return||c.return()}finally{if(i)throw o}}g(r)};return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(d.Z,{title:"\u7528\u6237\u4e2d\u5fc3-\u98ce\u7eaa\u76d1\u5bdf",children:(0,i.jsxs)(y.Z,{title:"\u7528\u6237\u4e2d\u5fc3",routes:u.S$,children:[(0,i.jsxs)(o.kC,{p:"6",justify:"space-between",children:[(0,i.jsx)(o.xv,{children:"\u5927\u4f6c\uff0c\u9ad8\u8d28\u91cf\u793e\u533a\u5efa\u8bbe\u5168\u9760\u4f60\u4e86\uff01"}),(0,i.jsxs)(l.Vp,{children:["\u5df2\u6210\u529f\u51c0\u5316 ",x," \u6761\u4e0d\u826f\u5185\u5bb9"]})]}),(0,i.jsx)(o.iz,{}),0===n.length?(0,i.jsx)(h.Z,{}):(0,i.jsx)(o.gC,{alignItems:"left",spacing:"0",children:n.map((function(r,t){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o.kC,{alignItems:"center",justifyContent:"space-between",className:e.query.id==r.id?"highlight-bordered":null,p:"4",children:[(0,i.jsx)(o.Ug,{children:(0,i.jsx)("a",{href:r.url,children:(0,i.jsxs)(o.xv,{fontSize:".9rem",children:["\u4f60\u4e8e ",b()(r.created).fromNow()," \uff0c\u63d0\u4ea4\u4e86\u5173\u4e8e ",(0,i.jsxs)(c.m$.span,{color:"brand",children:[O(r.type)," "]}),"\u7684\u62a5\u544a : ",r.content]})})}),(0,i.jsx)(s.u,{children:(0,i.jsxs)(l.Vp,{colorScheme:P(r.status),children:[w(r.status)," ",r.result]})})]}),t<n.length-1&&(0,i.jsx)(o.iz,{})]})}))})]})})})}}},function(e){e.O(0,[5445,4885,4617,1921,1228,8703,7351,8718,2539,1111,3649,9177,3009,6771,1926,9840,9774,2888,179],(function(){return r=40554,e(e.s=r);var r}));var r=e.O();_N_E=r}]);