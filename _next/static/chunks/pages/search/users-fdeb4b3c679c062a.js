(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9734],{37566:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search/users",function(){return r(69835)}])},83504:function(e,t,r){"use strict";var n=r(85893),i=r(68527),o=r(1950),l=r(62665),c=r(24871),s=r(96486),a=r(67294),u=r(63091),f=r(70577);function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){h(e,t,r[t])}))}return e}function p(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}t.Z=function(e){var t=e.title,r=e.routes,h=e.children,v=e.p,g=p(e,["title","routes","children","p"]),x=(0,l.Z)().session,y=(0,a.useState)(r),b=y[0],j=y[1];return(0,a.useEffect)((function(){if(null===x||void 0===x?void 0:x.user){var e=!0,t=!1,r=void 0;try{for(var n,i=b[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var o=n.value;o.minRole==u.u.ContentAdmin?o.disabled=!(0,f.SL)(x.user.role):o.minRole==u.u.ADMIN&&(o.disabled=!(0,f.GJ)(x.user.role))}}catch(l){t=!0,r=l}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}}j((0,s.cloneDeep)(b))}),[null===x||void 0===x?void 0:x.user]),(0,n.jsxs)(i.xu,{display:"flex",children:[(0,n.jsx)(c.Z,d({routes:b,title:t},g)),(0,n.jsx)(o.ZP,{className:"side-card",ml:"4",width:"100%",p:null!==v&&void 0!==v?v:6,pb:"1",children:h})]})}},99901:function(e,t,r){"use strict";var n=r(85893),i=r(11604),o=r(20949),l=r(41664),c=r(11163);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){s(e,t,r[t])}))}return e}function u(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var f=r(67294).forwardRef((function(e,t){var r=e.isActive,l=e.icon,c=e.children,s=u(e,["isActive","icon","children"]);return(0,n.jsxs)(i.m$.a,a({"aria-current":r?"page":void 0,width:"100%",px:"3",py:"2",rounded:"md",ref:t,fontSize:"1rem",fontWeight:"bold",color:(0,o.ff)("gray.700","whiteAlpha.900"),transition:"all 0.2s",display:"flex",alignItems:"center",className:"hover-bg",_activeLink:{color:(0,o.ff)("var(--chakra-colors-brand-500)","brand.200"),fontWeight:"600"}},s,{children:[l&&(0,n.jsx)(i.m$.span,{mr:"5",fontSize:"1.1rem",display:{base:"none",md:"block"},width:"20px",children:l}),(0,n.jsx)(i.m$.span,{children:c})]}))}));t.Z=function(e){var t,r=e.href,o=e.icon,s=e.children,h=e.query,d=e.exactPath,p=void 0!==d&&d,v=u(e,["href","icon","children","query","exactPath"]),g=(0,c.useRouter)().asPath;return t=p?g.split("?")[0]==encodeURI(r):g.startsWith(encodeURI(r)),(0,n.jsx)(i.m$.div,a({userSelect:"none",display:"flex",alignItems:"center",lineHeight:"1.5rem"},v,{children:(0,n.jsx)(l.default,{href:{pathname:r,query:h},passHref:!0,children:(0,n.jsx)(f,{isActive:t,icon:o,children:s})})}))}},24871:function(e,t,r){"use strict";var n=r(85893),i=r(68527),o=r(1950),l=r(11163),c=r(67294),s=r(99901);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){a(e,t,r[t])}))}return e}function f(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function h(e){var t=e.routes,r=(e.pathname,e.contentRef,f(e,["routes","pathname","contentRef"]));return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(i.Kq,{as:"ul",children:t.map((function(e){return e.disabled?null:(0,n.jsx)(s.Z,u({as:"li",href:e.path,icon:e.icon},r,{children:(0,n.jsx)("span",{children:e.title})}),e.path)}))})})}t.Z=function(e){var t=e.routes,r=e.title,s=f(e,["routes","title"]),a=(0,l.useRouter)().pathname,d=c.useRef(null);return(0,n.jsxs)(i.gC,{alignItems:"left",width:["180px","180px","250px","250px"],height:"fit-content",children:[(0,n.jsx)(o.ZP,{p:"5",className:"side-card",children:(0,n.jsx)(i.X6,{size:"md",fontSize:"1.3rem",children:r})}),(0,n.jsx)(o.ZP,u({p:"0",className:"side-card"},s,{children:(0,n.jsx)(i.xu,{ref:d,as:"nav","aria-label":"Main Navigation",pos:"sticky",sx:{overscrollBehavior:"contain"},top:"8.5rem",p:"3",overflowY:"auto",className:"sidebar-content",flexShrink:0,children:(0,n.jsx)(h,u({routes:t,pathname:a,contentRef:d},s))})}))]})}},69835:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return C}});var n=r(34051),i=r.n(n),o=r(85893),l=r(4612),c=r(68527),s=r(1950),a=r(71118),u=r(83331),f=r(99394),h=r(67757),d=r(30092),p=r(11163),v=r(67294),g=r(41039),x=r(32532),y=r(84696),b=r(32983),j=r(20949),m=r(70180),O=r(64981);function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var S=function(e){var t=e.users,r=e.highlight,n=e.displayFollow,i=void 0===n||n,l=P(e,["users","highlight","displayFollow"]),s=(0,j.ff)(O.Z.borderColor.light,O.Z.borderColor.dark),a=function(e){if(e<t.length-1)return!0};return(0,o.jsx)(c.gC,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){w(e,t,r[t])}))}return e}({alignItems:"left"},l,{children:t.map((function(e,t){return(0,o.jsx)(c.xu,{borderBottom:a(t)?"1px solid ".concat(s):null,children:(0,o.jsx)(m.Z,{user:e,highlight:r,displayFollow:i})},e.id)}))}))},k=r(83504);function Z(e,t,r,n,i,o,l){try{var c=e[o](l),s=c.value}catch(a){return void r(a)}c.done?t(s):Promise.resolve(s).then(n,i)}var C=function(){var e=x.a.Favorites,t=(0,p.useRouter)().query.q,r=(0,v.useState)([]),n=r[0],j=r[1],m=(0,v.useState)(""),O=m[0],w=m[1],P=(0,v.useState)(""),C=P[0],I=P[1];(0,v.useEffect)((function(){t&&(w(t),I(t),E())}),[t]),(0,v.useEffect)((function(){E()}),[O]);var E=function(){var t,r=(t=i().mark((function t(){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!O){t.next=5;break}return t.next=3,y.rR.get("/search/users?query=".concat(O,"&filter=").concat(e));case 3:r=t.sent,j(r.data);case 5:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function l(e){Z(o,n,i,l,c,"next",e)}function c(e){Z(o,n,i,l,c,"throw",e)}l(void 0)}))});return function(){return r.apply(this,arguments)}}();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u.Z,{title:h.Z.seo.title,description:h.Z.seo.description}),(0,o.jsx)(d.Z,{title:"\u641c\u7d22-\u7528\u6237",children:(0,o.jsxs)(k.Z,{title:"\u5168\u7ad9\u641c\u7d22",routes:g.oe,query:O?{q:O}:null,exactPath:!0,children:[(0,o.jsx)(s.ZP,{p:"5",children:(0,o.jsx)(l.II,{value:C,onChange:function(e){return I(e.currentTarget.value)},onKeyUp:function(e){return function(e){13==e.keyCode&&(""===C?((0,b.WR)(["q"]),j([])):(0,b.Ou)({q:C}),w(C))}(e)},size:"lg",placeholder:"type to search...",variant:"unstyled"})}),(0,o.jsxs)(s.ZP,{mt:"2",p:"0",pt:"4",px:"4",children:[(0,o.jsx)(f.Z,{filters:function(){var e=!0,t=!1,r=void 0;try{for(var n,i=g.oe[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var o=n.value;if(o.path.indexOf("users")>-1)return o.filters}}catch(l){t=!0,r=l}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}return[]}(),onChange:function(t){e=t,E()},initFilter:e}),(0,o.jsx)(c.iz,{mt:"3"}),0===n.length?(0,o.jsx)(a.Z,{}):(0,o.jsx)(S,{users:n,p:"2",highlight:O})]})]})})]})}},1429:function(e,t,r){"use strict";var n=r(34051),i=r.n(n),o=r(85893),l=r(15193),c=r(67294),s=r(89583),a=r(84696);function u(e,t,r,n,i,o,l){try{var c=e[o](l),s=c.value}catch(a){return void r(a)}c.done?t(s):Promise.resolve(s).then(n,i)}t.Z=function(e){var t=e.size,r=void 0===t?"md":t,n=e.buttonIcon,f=void 0===n||n,h=(0,c.useState)(e.followed),d=h[0],p=h[1],v=function(){var t,r=(t=i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.rR.post("/interaction/follow/".concat(e.targetID));case 2:p(!d);case 3:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function l(e){u(o,n,i,l,c,"next",e)}function c(e){u(o,n,i,l,c,"throw",e)}l(void 0)}))});return function(){return r.apply(this,arguments)}}();return(0,o.jsx)(o.Fragment,{children:d?(0,o.jsx)(l.zx,{size:r,onClick:v,_focus:{border:null},leftIcon:f?(0,o.jsx)(s.l_A,{}):null,children:"\u5df2\u5173"}):(0,o.jsx)(l.zx,{size:r,variant:"outline",leftIcon:f?(0,o.jsx)(s.wEH,{}):null,onClick:v,_focus:{border:null},children:"\u5173\u6ce8"})})}},99394:function(e,t,r){"use strict";var n=r(85893),i=r(67294),o=r(68527),l=r(15193),c=r(21948),s=r(32532);t.Z=function(e){var t=e.filters,r=void 0===t?[s.a.Best,s.a.Featured,s.a.Recent]:t,a=e.onChange,u=e.initFilter,f=void 0===u?r.length>0?r[0]:s.a.Best:u,h=e.variant,d=void 0===h?"ghost":h,p=(0,i.useState)(f),v=p[0],g=p[1];(0,i.useEffect)((function(){f&&g(f)}),[f]);return(0,n.jsx)(o.Ug,{spacing:"0",children:r.map((function(e){return(0,n.jsx)(l.zx,{_focus:{border:null},onClick:function(){return function(e){a(e),g(e)}(e)},size:"sm",colorScheme:v===e?"brand":"gray",leftIcon:(0,c.a)(e),variant:d,children:e},e)}))})}},70180:function(e,t,r){"use strict";var n=r(85893),i=(r(67294),r(68527)),o=r(34651),l=r(96356),c=r(11163),s=r(95978),a=r(1429),u=r(37763),f=r.n(u),h=r(87609),d=r(92178),p=r(87079);t.Z=function(e){var t,r,u=e.user,v=e.highlight,g=e.displayFollow,x=void 0===g||g,y=e.displayFollowers,b=void 0===y||y,j=e.displayRole,m=void 0!==j&&j,O=(0,c.useRouter)();return(0,n.jsxs)(i.kC,{alignItems:"center",justifyContent:"space-between",children:[(0,n.jsxs)(i.Ug,{spacing:"4",p:"2",width:"65%",children:[(0,n.jsx)(o.Ee,{width:"40px",src:u.avatar,onClick:function(){return O.push((0,p.Ab)(u))},cursor:"pointer"}),(0,n.jsxs)(i.gC,{alignItems:"left",spacing:"1",children:[(0,n.jsxs)(i.Ug,{children:[(0,n.jsx)(d.Z,{userId:u.id,children:(0,n.jsx)(i.X6,{size:"sm",onClick:function(){return O.push((0,p.Ab)(u))},cursor:"pointer",children:(0,n.jsx)(f(),{highlightClassName:"highlight-search-match",textToHighlight:(0,s.vW)(u),searchWords:[v]})})}),(0,n.jsxs)(i.xv,{layerStyle:"textSecondary",children:["@",(0,n.jsx)(f(),{highlightClassName:"highlight-search-match",textToHighlight:u.username,searchWords:[v]})," "]})]}),u.tagline&&(0,n.jsx)(i.xv,{fontSize:".95rem",children:(0,n.jsx)(f(),{highlightClassName:"highlight-search-match",textToHighlight:u.tagline,searchWords:[v]})})]})]}),(0,n.jsxs)(i.Ug,{width:"35%",children:[m&&(0,n.jsx)(l.Vp,{colorScheme:"cyan",children:u.role}),b&&(0,n.jsxs)(i.xv,{fontWeight:"600",fontSize:".9rem",children:[(0,n.jsx)(h.Z,{count:null!==(r=null===(t=u.iteractions)||void 0===t?void 0:t.followers)&&void 0!==r?r:0})," \u5173\u6ce8\u8005"]}),x&&(0,n.jsx)(a.Z,{followed:u.followed,targetID:u.id,size:"sm"})]})]})}}},function(e){e.O(0,[5445,4885,4617,1921,1228,8703,7351,8718,2539,1111,3649,9177,7763,3009,6771,1926,9840,9774,2888,179],(function(){return t=37566,e(e.s=t);var t}));var t=e.O();_N_E=t}]);