(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1923],{92684:function(n,t,e){"use strict";e.d(t,{ac:function(){return u}});e(11604);var r=e(19703),o=e(67294),i=e(85393),a=r.jU?o.useLayoutEffect:o.useEffect;function u(n){var t=(0,i.O)(),e=Array.isArray(n)?n:[n],u=r.jU&&"matchMedia"in t.window,c=o.useState(e.map((function(n){return!!u&&!!t.window.matchMedia(n).matches}))),s=c[0],l=c[1];return a((function(){if(u){var n=e.map((function(n){return t.window.matchMedia(n)})),r=n.map((function(t,e){var r=function(t){var e=n.findIndex((function(n){return n.media===t.media}));l((function(n){var r=n.map((function(n){return n}));return r[e]=t.matches,r}))};return"function"===typeof n[e].addEventListener?n[e].addEventListener("change",r):n[e].addListener(r),r}));return function(){n.forEach((function(t,e){"function"===typeof n[e].removeEventListener?n[e].removeEventListener("change",r[e]):n[e].removeListener(r[e])}))}}}),[]),s}r.Ts;r.Ts},98173:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tags/[name]/series",function(){return e(87370)}])},87370:function(n,t,e){"use strict";e.r(t);var r=e(34051),o=e.n(r),i=e(85893),a=e(28609),u=e(1950),c=e(38671),s=e(67294),l=e(84696),f=e(81463),d=e(32532),v=e(68004);function h(n,t,e,r,o,i,a){try{var u=n[i](a),c=u.value}catch(s){return void e(s)}u.done?t(c):Promise.resolve(c).then(r,o)}t.default=function(){var n=(0,a.pm)(),t=(0,s.useState)(null),e=t[0],r=t[1],p=(0,s.useState)(d.a.Latest),m=p[0],w=p[1],g=function(){var t,r=(t=o().mark((function t(r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.rR.post("/disable",{targetId:r,by:e.id});case 2:n({description:"\u4ece\u6807\u7b7e\u79fb\u9664\u6210\u529f\uff0c\u5237\u65b0\u9875\u9762\u53ef\u770b\u5230\u6548\u679c",status:"success",duration:3e3,isClosable:!0});case 3:case"end":return t.stop()}}),t)})),function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(n){h(i,r,o,a,u,"next",n)}function u(n){h(i,r,o,a,u,"throw",n)}a(void 0)}))});return function(n){return r.apply(this,arguments)}}();return(0,i.jsxs)(v.Z,{onTagLoaded:function(n){r(n)},children:[(0,i.jsx)(u.ZP,{p:"2",children:(0,i.jsx)(f.Z,{onChange:function(n){w(n)},value:d.a.Latest})}),(0,i.jsx)(u.ZP,{width:"100%",height:"fit-content",p:"0",px:"3",children:(null===e||void 0===e?void 0:e.id)&&(0,i.jsx)(c.Z,{onLoad:function(n){return l.rR.get("/tag/posts?id=".concat(e.id,"&filter=").concat(m,"&page=").concat(n,"&per_page=5&s=true"))},filter:m,onRemove:e.isModerator&&g,isInfinite:!0,followPush:e.isModerator&&e.id})})]})}},1429:function(n,t,e){"use strict";var r=e(34051),o=e.n(r),i=e(85893),a=e(15193),u=e(67294),c=e(89583),s=e(84696);function l(n,t,e,r,o,i,a){try{var u=n[i](a),c=u.value}catch(s){return void e(s)}u.done?t(c):Promise.resolve(c).then(r,o)}t.Z=function(n){var t=n.size,e=void 0===t?"md":t,r=n.buttonIcon,f=void 0===r||r,d=(0,u.useState)(n.followed),v=d[0],h=d[1],p=function(){var t,e=(t=o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.rR.post("/interaction/follow/".concat(n.targetID));case 2:h(!v);case 3:case"end":return t.stop()}}),t)})),function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(n){l(i,r,o,a,u,"next",n)}function u(n){l(i,r,o,a,u,"throw",n)}a(void 0)}))});return function(){return e.apply(this,arguments)}}();return(0,i.jsx)(i.Fragment,{children:v?(0,i.jsx)(a.zx,{size:e,onClick:p,_focus:{border:null},leftIcon:f?(0,i.jsx)(c.l_A,{}):null,children:"\u5df2\u5173"}):(0,i.jsx)(a.zx,{size:e,variant:"outline",leftIcon:f?(0,i.jsx)(c.wEH,{}):null,onClick:p,_focus:{border:null},children:"\u5173\u6ce8"})})}},38671:function(n,t,e){"use strict";var r=e(85893),o=e(67294),i=e(20949),a=e(68527),u=e(2993),c=e(64981),s=e(96486),l=e(71118),f=e(19029);function d(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function v(n){return function(n){if(Array.isArray(n))return d(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,t){if(!n)return;if("string"===typeof n)return d(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return d(n,t)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.Z=function(n){var t=n.card,e=void 0===t?u.Z:t,d=n.showBottomDivider,h=void 0===d||d,p=n.type,m=void 0===p?"classic":p,w=n.showPinned,g=void 0!==w&&w,y=n.showOrg,x=void 0===y||y,b=n.onLoad,j=n.filter,L=n.tagFilter,_=n.onRemove,E=n.showLiked,P=void 0!==E&&E,k=n.isInfinite,C=n.showViews,I=void 0!==C&&C,S=n.followPush,Z=(0,o.useState)(0),A=Z[0],z=Z[1],O=(0,o.useState)(null),R=O[0],M=O[1];(0,o.useEffect)((function(){M(null),z(A+1)}),[j,L]);var T=(0,i.ff)(c.Z.borderColor.light,c.Z.borderColor.dark),N=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(f.Z,{onLoad:b,onDataChange:function(n){M(s.concat.apply(void 0,[null!==R&&void 0!==R?R:[]].concat(v(n))))},isInfinite:k,children:0===(null===R||void 0===R?void 0:R.length)?(0,r.jsx)(l.Z,{}):(0,r.jsx)(a.gC,{alignItems:"left",children:null===R||void 0===R?void 0:R.map((function(t,e){return t.disables?null:(0,r.jsx)(a.xu,{py:"2",borderBottom:e<R.length-1||h?"1px solid ".concat(T):null,px:"1",children:(0,r.jsx)(N,{story:t,size:n.size,type:m,highlight:n.highlight,showPinned:g,showOrg:x,onRemove:_,showLiked:P,showViews:I,followPush:S})},t.id)}))})},A)})}},81463:function(n,t,e){"use strict";var r=e(85893),o=e(67294),i=e(68527),a=e(15193),u=e(32532);function c(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}t.Z=function(n){var t,e=n.onChange,s=n.value,l=void 0===s?u.a.Latest:s,f=n.filters,d=void 0===f?[u.a.Latest,u.a.Recent,u.a.All]:f,v=l,h=(c(t={},u.a.Best,"\u6211\u5173\u6ce8\u7684"),c(t,u.a.Latest,"\u6700\u65b0"),c(t,u.a.Recent,"\u6700\u8fd1\u70ed\u70b9"),c(t,u.a.Week,"\u4e00\u5468\u70ed\u70b9"),c(t,u.a.All,"\u603b\u6392\u884c"),t),p=(0,o.useState)(v),m=p[0],w=p[1];return(0,r.jsx)(i.Ug,{spacing:"0",children:d.map((function(n){return(0,r.jsx)(a.zx,{onClick:function(){return function(n){e(n),w(n)}(n)},size:"sm",colorScheme:m===n?"brand":"grey",variant:m===n?"solid":"ghost",_focus:{border:null},children:h[n]},n)}))})}}},function(n){n.O(0,[5445,4885,4617,1921,1228,8703,7351,8718,2539,1111,3649,9177,7763,1382,3009,6771,1926,9840,2993,8638,8004,9774,2888,179],(function(){return t=98173,n(n.s=t);var t}));var t=n.O();_N_E=t}]);