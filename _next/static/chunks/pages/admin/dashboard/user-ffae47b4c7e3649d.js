(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9238],{85251:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/dashboard/user",function(){return r(26297)}])},26297:function(e,n,r){"use strict";r.r(n);var t=r(34051),s=r.n(t),i=r(85893),a=r(97375),c=r(68527),o=r(15193),u=r(88718),l=r(79042),d=r(11604),f=r(59876),h=r(79521),p=r(67294),x=r(41039),j=r(30092),m=r(13520),y=r(50272),v=r(84696),b=r(87609),g=r(92178),w=r(83504);function S(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function T(e,n,r,t,s,i,a){try{var c=e[i](a),o=c.value}catch(u){return void r(u)}c.done?n(o):Promise.resolve(o).then(t,s)}function P(e){return function(){var n=this,r=arguments;return new Promise((function(t,s){var i=e.apply(n,r);function a(e){T(i,t,s,a,c,"next",e)}function c(e){T(i,t,s,a,c,"throw",e)}a(void 0)}))}}function O(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function _(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){O(e,n,r[n])}))}return e}function C(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,s,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(t=r.next()).done)&&(i.push(t.value),!n||i.length!==n);a=!0);}catch(o){c=!0,s=o}finally{try{a||null==r.return||r.return()}finally{if(c)throw s}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return S(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.default=function(){var e=(0,a.qY)(),n=e.isOpen,r=e.onOpen,t=e.onClose,S=(0,p.useState)([]),T=S[0],O=S[1],k=(0,p.useState)([]),A=k[0],N=k[1],E=(0,p.useState)(null),I=E[0],Z=E[1],R=(0,p.useState)([]),z=R[0],B=R[1],H=(0,p.useState)(null),$=H[0],D=H[1];(0,p.useEffect)((function(){$&&G($)}),[$]);var G=function(){var e=P(s().mark((function e(n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.rR.get("/stats/user?span=".concat(n));case 2:r=e.sent,O(r.data.data),N(r.data.columns);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),X=function(){var e=P(s().mark((function e(n){var t,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.values[0].split("--")[1],e.next=3,v.rR.get("/stats/user/detail?id=".concat(t,"&span=").concat($));case 3:i=e.sent,Z(n.values[0]),B(i.data),r();case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),q=(0,h.useTable)({columns:A,data:T,initialState:{sortBy:[{id:"1",desc:!0}]}},h.useSortBy),F=q.getTableProps,L=q.getTableBodyProps,M=q.headerGroups,U=q.rows,W=q.prepareRow;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(j.Z,{children:[(0,i.jsxs)(w.Z,{title:"\u7ba1\u7406\u5458",routes:x.xt,children:[(0,i.jsx)(c.kC,{justifyContent:"space-between",alignItems:"center",children:(0,i.jsx)(m.Z,{routes:y.adminSubLinks,exactPath:!0})}),(0,i.jsxs)(c.kC,{p:"4",justify:"space-between",alignItems:"center",children:[(0,i.jsx)(c.xv,{layerStyle:"textSecondary",fontSize:".95rem",children:"\u5bf9\u7528\u6237\u7684\u884c\u4e3a\u8fdb\u884c\u7edf\u8ba1\uff0c\u6700\u5c0f\u7c92\u5ea6\u662f\u4e09\u5c0f\u65f6"}),(0,i.jsx)(y.TimeSpanSelect,{onChange:function(e){return D(e)}})]}),(0,i.jsxs)(l.iA,_({},F(),{children:[(0,i.jsx)(l.hr,{children:M.map((function(e){return(0,i.jsxs)(l.Tr,_({},e.getHeaderGroupProps(),{children:[e.headers.map((function(e){return(0,i.jsxs)(l.Th,_({},e.getHeaderProps(e.getSortByToggleProps()),{isNumeric:e.isNumeric,children:[e.render("Header"),(0,i.jsx)(d.m$.span,{pl:"4",children:e.isSorted?e.isSortedDesc?(0,i.jsx)(f.AS,{"aria-label":"sorted descending"}):(0,i.jsx)(f.$l,{"aria-label":"sorted ascending"}):null})]}))})),(0,i.jsx)(l.Th,{children:"\u64cd\u4f5c"})]}))}))}),(0,i.jsx)(l.p3,_({},L(),{children:U.map((function(e){return W(e),(0,i.jsxs)(l.Tr,_({},e.getRowProps(),{children:[e.cells.map((function(n,r){var t=n.render("Cell"),s=C(e.values[0].split("--"),2),a=s[0],o=s[1];return 0==r&&(t="0"!=o?(0,i.jsx)(g.Z,{userId:o,children:(0,i.jsx)(c.xv,{children:a})}):a),(0,i.jsx)(l.Td,_({},n.getCellProps(),{isNumeric:n.column.isNumeric,children:t}))})),(0,i.jsx)(l.Td,{children:(0,i.jsx)(o.zx,{size:"sm",onClick:function(){return X(e)},variant:I==e.values[0]?"solid":"outline",children:"\u8be6\u60c5"})})]}))}))}))]}))]}),(0,i.jsxs)(u.u_,{isOpen:n,onClose:t,children:[(0,i.jsx)(u.ZA,{}),(0,i.jsx)(u.hz,{minWidth:"800px",children:(0,i.jsx)(u.fe,{children:(0,i.jsxs)(l.iA,{children:[(0,i.jsxs)(l.Rn,{children:["0"==I?"\u672a\u767b\u5f55\u7528\u6237":I," \u7684\u7edf\u8ba1\u8be6\u60c5"]}),(0,i.jsx)(l.hr,{children:(0,i.jsxs)(l.Tr,{children:[(0,i.jsx)(l.Th,{children:"\u64cd\u4f5c\u884c\u4e3a"}),(0,i.jsx)(l.Th,{children:"\u53d1\u751f\u6b21\u6570"})]})}),(0,i.jsx)(l.p3,{children:z.map((function(e){return(0,i.jsxs)(l.Tr,{children:[(0,i.jsx)(l.Td,{children:e.action}),(0,i.jsx)(l.Td,{children:(0,i.jsx)(b.Z,{count:e.count})})]})}))})]})})})]})]})})}}},function(e){e.O(0,[5445,4885,4617,1921,1228,7570,43,8703,7351,8718,2539,1111,3649,9177,7190,615,9521,3009,6771,1926,9840,272,9774,2888,179],(function(){return n=85251,e(e.s=n);var n}));var n=e.O();_N_E=n}]);