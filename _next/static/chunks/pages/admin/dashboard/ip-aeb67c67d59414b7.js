(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[715],{79042:function(n,e,r){"use strict";r.d(e,{iA:function(){return h},Rn:function(){return f},p3:function(){return p},Td:function(){return T},$R:function(){return j},Th:function(){return m},hr:function(){return x},Tr:function(){return v}});var t=r(11604),i=r(19703),c=r(67294);function s(){return s=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}return n},s.apply(this,arguments)}function a(n,e){if(null==n)return{};var r,t,i={},c=Object.keys(n);for(t=0;t<c.length;t++)r=c[t],e.indexOf(r)>=0||(i[r]=n[r]);return i}var u=["className"],l=["placement"],o=["isNumeric"],d=["isNumeric"],h=(0,t.Gp)((function(n,e){var r=(0,t.jC)("Table",n),l=(0,t.Lr)(n),o=l.className,d=a(l,u);return c.createElement(t.Fo,{value:r},c.createElement(t.m$.table,s({role:"table",ref:e,__css:r.table,className:(0,i.cx)("chakra-table",o)},d)))}));i.Ts&&(h.displayName="Table");var f=(0,t.Gp)((function(n,e){var r=n.placement,i=void 0===r?"bottom":r,u=a(n,l),o=(0,t.yK)();return c.createElement(t.m$.caption,s({},u,{ref:e,__css:s({},o.caption,{captionSide:i})}))}));i.Ts&&(f.displayName="TableCaption");var x=(0,t.Gp)((function(n,e){var r=(0,t.yK)();return c.createElement(t.m$.thead,s({},n,{ref:e,__css:r.thead}))})),p=(0,t.Gp)((function(n,e){var r=(0,t.yK)();return c.createElement(t.m$.tbody,s({},n,{ref:e,__css:r.tbody}))})),j=(0,t.Gp)((function(n,e){var r=(0,t.yK)();return c.createElement(t.m$.tfoot,s({},n,{ref:e,__css:r.tfoot}))})),m=(0,t.Gp)((function(n,e){var r=n.isNumeric,i=a(n,o),u=(0,t.yK)();return c.createElement(t.m$.th,s({},i,{ref:e,__css:u.th,"data-is-numeric":r}))})),v=(0,t.Gp)((function(n,e){var r=(0,t.yK)();return c.createElement(t.m$.tr,s({role:"row"},n,{ref:e,__css:r.tr}))})),T=(0,t.Gp)((function(n,e){var r=n.isNumeric,i=a(n,d),u=(0,t.yK)();return c.createElement(t.m$.td,s({role:"gridcell"},i,{ref:e,__css:u.td,"data-is-numeric":r}))}))},84888:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/dashboard/ip",function(){return r(80787)}])},80787:function(n,e,r){"use strict";r.r(e);var t=r(34051),i=r.n(t),c=r(85893),s=r(97375),a=r(68527),u=r(15193),l=r(79042),o=r(88718),d=r(67294),h=r(41039),f=r(30092),x=r(13520),p=r(50272),j=r(84696),m=r(87609),v=r(83504);function T(n,e,r,t,i,c,s){try{var a=n[c](s),u=a.value}catch(l){return void r(l)}a.done?e(u):Promise.resolve(u).then(t,i)}e.default=function(){var n=(0,s.qY)(),e=n.isOpen,r=n.onOpen,t=n.onClose,_=(0,d.useState)([]),y=_[0],b=_[1],E=(0,d.useState)(null),N=E[0],w=E[1],$=(0,d.useState)([]),k=$[0],O=$[1];(0,d.useEffect)((function(){j.rR.get("/stats/ip").then((function(n){return b(n.data)}))}),[]);var g=function(){var n,e=(n=i().mark((function n(e){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j.rR.get("/stats/ip/detail?ip=".concat(e));case 2:t=n.sent,w(e),O(t.data),r();case 6:case"end":return n.stop()}}),n)})),function(){var e=this,r=arguments;return new Promise((function(t,i){var c=n.apply(e,r);function s(n){T(c,t,i,s,a,"next",n)}function a(n){T(c,t,i,s,a,"throw",n)}s(void 0)}))});return function(n){return e.apply(this,arguments)}}();return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(f.Z,{children:[(0,c.jsxs)(v.Z,{title:"\u7ba1\u7406\u5458",routes:h.xt,children:[(0,c.jsx)(a.kC,{justifyContent:"space-between",alignItems:"center",children:(0,c.jsx)(x.Z,{routes:p.adminSubLinks,exactPath:!0})}),(0,c.jsx)(a.xu,{p:"4",children:(0,c.jsx)(a.xv,{layerStyle:"textSecondary",children:"\u7edf\u8ba1\u65f6\u95f4\u59cb\u4e8e\u670d\u52a1\u5668\u4e0a\u6b21\u91cd\u542f\u540e"})}),(0,c.jsxs)(l.iA,{variant:"simple",children:[(0,c.jsx)(l.hr,{children:(0,c.jsxs)(l.Tr,{children:[(0,c.jsx)(l.Th,{children:"IP"}),(0,c.jsx)(l.Th,{children:"\u603b\u8bbf\u95ee\u6b21\u6570"}),(0,c.jsx)(l.Th,{children:"\u64cd\u4f5c"})]})}),(0,c.jsx)(l.p3,{children:y.map((function(n){return(0,c.jsxs)(l.Tr,{children:[(0,c.jsx)(l.Td,{children:n.ip}),(0,c.jsx)(l.Td,{children:(0,c.jsx)(m.Z,{count:n.count})}),(0,c.jsx)(l.Td,{children:(0,c.jsx)(u.zx,{variant:n.ip==N?"solid":"outline",size:"sm",onClick:function(){return g(n.ip)},children:"\u67e5\u770b\u8be6\u60c5"})})]})}))}),y.length>=20&&(0,c.jsx)(l.$R,{children:(0,c.jsxs)(l.Tr,{children:[(0,c.jsx)(l.Th,{children:"IP"}),(0,c.jsx)(l.Th,{children:"\u603b\u8bbf\u95ee\u6b21\u6570"}),(0,c.jsx)(l.Th,{children:"\u64cd\u4f5c"})]})})]})]}),(0,c.jsxs)(o.u_,{isOpen:e,onClose:t,children:[(0,c.jsx)(o.ZA,{}),(0,c.jsx)(o.hz,{minWidth:"800px",children:(0,c.jsx)(o.fe,{children:(0,c.jsxs)(l.iA,{variant:"striped",children:[(0,c.jsxs)(l.Rn,{children:[N," \u7684\u7edf\u8ba1\u8be6\u60c5"]}),(0,c.jsx)(l.hr,{children:(0,c.jsxs)(l.Tr,{children:[(0,c.jsx)(l.Th,{children:"\u76ee\u6807URL"}),(0,c.jsx)(l.Th,{children:"\u8bbf\u95ee\u6b21\u6570"})]})}),(0,c.jsx)(l.p3,{children:k.map((function(n){return(0,c.jsxs)(l.Tr,{children:[(0,c.jsx)(l.Td,{children:n.url}),(0,c.jsx)(l.Td,{children:(0,c.jsx)(m.Z,{count:n.count})})]})}))}),(0,c.jsx)(l.$R,{children:(0,c.jsxs)(l.Tr,{children:[(0,c.jsx)(l.Th,{children:"\u76ee\u6807URL"}),(0,c.jsx)(l.Th,{children:"\u6b21\u6570"})]})})]})})})]})]})})}}},function(n){n.O(0,[5445,4885,4617,1921,1228,7570,43,8703,7351,8718,2539,1111,3649,9177,615,3009,6771,1926,9840,272,9774,2888,179],(function(){return e=84888,n(n.s=e);var e}));var e=n.O();_N_E=e}]);