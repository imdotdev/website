(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9370],{10288:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/domain",function(){return t(63447)}])},83504:function(e,n,t){"use strict";var r=t(85893),i=t(68527),o=t(1950),a=t(62665),c=t(24871),l=t(96486),u=t(67294),s=t(63091),f=t(70577);function d(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){d(e,n,t[n])}))}return e}function p(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}n.Z=function(e){var n=e.title,t=e.routes,d=e.children,b=e.p,m=p(e,["title","routes","children","p"]),v=(0,a.Z)().session,x=(0,u.useState)(t),y=x[0],j=x[1];return(0,u.useEffect)((function(){if(null===v||void 0===v?void 0:v.user){var e=!0,n=!1,t=void 0;try{for(var r,i=y[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;o.minRole==s.u.ContentAdmin?o.disabled=!(0,f.SL)(v.user.role):o.minRole==s.u.ADMIN&&(o.disabled=!(0,f.GJ)(v.user.role))}}catch(a){n=!0,t=a}finally{try{e||null==i.return||i.return()}finally{if(n)throw t}}}j((0,l.cloneDeep)(y))}),[null===v||void 0===v?void 0:v.user]),(0,r.jsxs)(i.xu,{display:"flex",children:[(0,r.jsx)(c.Z,h({routes:y,title:n},m)),(0,r.jsx)(o.ZP,{className:"side-card",ml:"4",width:"100%",p:null!==b&&void 0!==b?b:6,pb:"1",children:d})]})}},99901:function(e,n,t){"use strict";var r=t(85893),i=t(11604),o=t(20949),a=t(41664),c=t(11163);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){l(e,n,t[n])}))}return e}function s(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var f=t(67294).forwardRef((function(e,n){var t=e.isActive,a=e.icon,c=e.children,l=s(e,["isActive","icon","children"]);return(0,r.jsxs)(i.m$.a,u({"aria-current":t?"page":void 0,width:"100%",px:"3",py:"2",rounded:"md",ref:n,fontSize:"1rem",fontWeight:"bold",color:(0,o.ff)("gray.700","whiteAlpha.900"),transition:"all 0.2s",display:"flex",alignItems:"center",className:"hover-bg",_activeLink:{color:(0,o.ff)("var(--chakra-colors-brand-500)","brand.200"),fontWeight:"600"}},l,{children:[a&&(0,r.jsx)(i.m$.span,{mr:"5",fontSize:"1.1rem",display:{base:"none",md:"block"},width:"20px",children:a}),(0,r.jsx)(i.m$.span,{children:c})]}))}));n.Z=function(e){var n,t=e.href,o=e.icon,l=e.children,d=e.query,h=e.exactPath,p=void 0!==h&&h,b=s(e,["href","icon","children","query","exactPath"]),m=(0,c.useRouter)().asPath;return n=p?m.split("?")[0]==encodeURI(t):m.startsWith(encodeURI(t)),(0,r.jsx)(i.m$.div,u({userSelect:"none",display:"flex",alignItems:"center",lineHeight:"1.5rem"},b,{children:(0,r.jsx)(a.default,{href:{pathname:t,query:d},passHref:!0,children:(0,r.jsx)(f,{isActive:n,icon:o,children:l})})}))}},24871:function(e,n,t){"use strict";var r=t(85893),i=t(68527),o=t(1950),a=t(11163),c=t(67294),l=t(99901);function u(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){u(e,n,t[n])}))}return e}function f(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function d(e){var n=e.routes,t=(e.pathname,e.contentRef,f(e,["routes","pathname","contentRef"]));return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.Kq,{as:"ul",children:n.map((function(e){return e.disabled?null:(0,r.jsx)(l.Z,s({as:"li",href:e.path,icon:e.icon},t,{children:(0,r.jsx)("span",{children:e.title})}),e.path)}))})})}n.Z=function(e){var n=e.routes,t=e.title,l=f(e,["routes","title"]),u=(0,a.useRouter)().pathname,h=c.useRef(null);return(0,r.jsxs)(i.gC,{alignItems:"left",width:["180px","180px","250px","250px"],height:"fit-content",children:[(0,r.jsx)(o.ZP,{p:"5",className:"side-card",children:(0,r.jsx)(i.X6,{size:"md",fontSize:"1.3rem",children:t})}),(0,r.jsx)(o.ZP,s({p:"0",className:"side-card"},l,{children:(0,r.jsx)(i.xu,{ref:h,as:"nav","aria-label":"Main Navigation",pos:"sticky",sx:{overscrollBehavior:"contain"},top:"8.5rem",p:"3",overflowY:"auto",className:"sidebar-content",flexShrink:0,children:(0,r.jsx)(d,s({routes:n,pathname:u,contentRef:h},l))})}))]})}},63447:function(e,n,t){"use strict";t.r(n);var r=t(34051),i=t.n(r),o=t(85893),a=t(28609),c=t(6886),l=t(68527),u=t(79762),s=t(4612),f=t(96356),d=t(15193),h=t(83504),p=t(30092),b=t(67294),m=t(41039),v=t(84696);function x(e,n,t,r,i,o,a){try{var c=e[o](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(r,i)}function y(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){x(o,r,i,a,c,"next",e)}function c(e){x(o,r,i,a,c,"throw",e)}a(void 0)}))}}n.default=function(){var e=(0,a.pm)(),n=(0,b.useState)(null),t=n[0],r=n[1],x=(0,b.useState)(null),j=x[0],g=x[1],O=(0,b.useState)(null),w=O[0],P=O[1],S=(0,b.useState)(null),k=S[0],R=S[1],_=(0,b.useState)(null),I=(_[0],_[1]);(0,b.useEffect)((function(){v.rR.get("/can/I/custom_domain").then((function(e){return r(e.data)})),v.rR.get("/user/self").then((function(e){P(e.data.domain),g(e.data.domain),I(e.data)}))}),[]);var E=function(){var e=y(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P(n),""!=n.trim()){e.next=4;break}return R(""),e.abrupt("return");case 4:if(j.toLowerCase()!=n.toLowerCase()){e.next=7;break}return R(""),e.abrupt("return");case 7:return e.next=9,v.rR.get("/user/domain/exist?domain=".concat(n));case 9:t=e.sent,R(t.data);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),N=function(){var n=y(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!C()){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,v.rR.post("/user/domain",{domain:w});case 4:n.sent,e({description:"\u66f4\u65b0\u4e2a\u4eba\u57df\u540d\u6210\u529f\uff0c\u5237\u65b0\u540e\u8bbf\u95ee\u4e2a\u4eba\u4e3b\u9875\u67e5\u770b\u6548\u679c:)",status:"success",duration:3e3,isClosable:!0});case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),C=function(){return w.toLowerCase()==j.toLowerCase()};return(0,o.jsx)(p.Z,{title:"\u4e2a\u4eba\u8bbe\u7f6e-\u535a\u5ba2\u83dc\u5355",children:(0,o.jsx)(h.Z,{title:"\u4e2a\u4eba\u8bbe\u7f6e",routes:m._Q,children:t&&null!=j&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(c.bZ,{status:"warning",children:[(0,o.jsx)(c.zM,{}),(0,o.jsx)(l.gC,{alignItems:"left",children:(0,o.jsxs)(l.xv,{fontWeight:"bold",color:"orange",children:["\u5269\u4f59\u6539\u540d\u6b21\u6570: ",t[2]]})})]}),(0,o.jsxs)(l.Ug,{mt:"8",children:[(0,o.jsxs)(u.NI,{width:"500px",variant:"floating",id:"first-name",children:[(0,o.jsx)(s.II,{value:w,onChange:function(e){return E(e.currentTarget.value)},placeholder:" "}),(0,o.jsx)(u.lX,{children:(0,o.jsxs)(l.Ug,{children:[(0,o.jsx)(l.xv,{color:C()||""==w||"\u53ef\u4ee5\u6ce8\u518c"==k?"green":"red",children:w?"\u4e2a\u4eba\u57df\u540d ".concat(window.location.host,"/").concat(w," ").concat(k||""):"\u8f93\u5165\u4f60\u7684\u57df\u540d"}),w&&C()?(0,o.jsx)(f.Vp,{colorScheme:"cyan",children:"\u4f60\u6b63\u5728\u4f7f\u7528\u7684\u57df\u540d"}):null]})}),(0,o.jsx)(u.Q6,{children:"\u5c3d\u91cf\u4fdd\u6301\u7b80\u77ed\u3001\u597d\u8bb0\uff0c\u5148\u5230\u5148\u5f97! \u6ce8\u610f\uff1a\u57df\u540d\u53ea\u80fd\u4f7f\u7528\u5927\u5c0f\u5b57\u6bcd\u4ee5\u53ca - "})]}),(0,o.jsx)(d.zx,{position:"relative",top:"-14px",disabled:C()||"\u53ef\u4ee5\u6ce8\u518c"!=k&&""!=k,onClick:function(){return N()},children:"\u63d0\u4ea4"})]})]})})})}}},function(e){e.O(0,[5445,4885,4617,1921,1228,8703,7351,8718,2539,1111,3649,9177,3009,6771,1926,9840,9774,2888,179],(function(){return n=10288,e(e.s=n);var n}));var n=e.O();_N_E=n}]);