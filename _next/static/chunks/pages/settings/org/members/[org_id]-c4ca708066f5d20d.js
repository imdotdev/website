(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7463],{11391:function(e,n,r){"use strict";r.d(n,{Ph:function(){return x}});var t=r(79762),i=r(11604),o=r(94244),c=r(19703),s=r(38554),l=r.n(s),a=r(67294);function u(){return u=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},u.apply(this,arguments)}function h(e,n){if(null==e)return{};var r,t,i={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||(i[r]=e[r]);return i}var d=["children","placeholder","className"],f=["rootProps","placeholder","icon","color","height","h","minH","minHeight","iconColor","iconSize","isFullWidth"],p=["children"],m=(0,i.Gp)((function(e,n){var r=e.children,t=e.placeholder,o=e.className,s=h(e,d);return a.createElement(i.m$.select,u({},s,{ref:n,className:(0,c.cx)("chakra-select",o)}),t&&a.createElement("option",{value:""},t),r)}));c.Ts&&(m.displayName="SelectField");var x=(0,i.Gp)((function(e,n){var r=(0,i.jC)("Select",e),s=(0,i.Lr)(e),d=s.rootProps,p=s.placeholder,x=s.icon,g=s.color,v=s.height,b=s.h,y=s.minH,w=s.minHeight,O=s.iconColor,_=s.iconSize;s.isFullWidth;var k=h(s,f),S=(0,c.Vl)(k,o.oE),P=S[0],C=S[1],E=(0,t.Yp)(C),N={width:"100%",height:"fit-content",position:"relative",color:g},z=l()({paddingEnd:"2rem"},r.field,{_focus:{zIndex:"unset"}});return a.createElement(i.m$.div,u({className:"chakra-select__wrapper",__css:N},P,d),a.createElement(m,u({ref:n,height:null!=b?b:v,minH:null!=y?y:w,placeholder:p},E,{__css:z}),e.children),a.createElement(j,u({"data-disabled":(0,c.PB)(E.disabled)},(O||g)&&{color:O||g},{__css:r.icon},_&&{fontSize:_}),x))}));c.Ts&&(x.displayName="Select");var g=function(e){return a.createElement("svg",u({viewBox:"0 0 24 24"},e),a.createElement("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}))},v=(0,i.m$)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),j=function(e){var n=e.children,r=void 0===n?a.createElement(g,null):n,t=h(e,p),i=a.cloneElement(r,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return a.createElement(v,u({},t,{className:"chakra-select__icon-wrapper"}),a.isValidElement(r)?i:null)};c.Ts&&(j.displayName="SelectIcon")},34829:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/org/members/[org_id]",function(){return r(37104)}])},99901:function(e,n,r){"use strict";var t=r(85893),i=r(11604),o=r(20949),c=r(41664),s=r(11163);function l(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function a(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){l(e,n,r[n])}))}return e}function u(e,n){if(null==e)return{};var r,t,i=function(e,n){if(null==e)return{};var r,t,i={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||(i[r]=e[r]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var h=r(67294).forwardRef((function(e,n){var r=e.isActive,c=e.icon,s=e.children,l=u(e,["isActive","icon","children"]);return(0,t.jsxs)(i.m$.a,a({"aria-current":r?"page":void 0,width:"100%",px:"3",py:"2",rounded:"md",ref:n,fontSize:"1rem",fontWeight:"bold",color:(0,o.ff)("gray.700","whiteAlpha.900"),transition:"all 0.2s",display:"flex",alignItems:"center",className:"hover-bg",_activeLink:{color:(0,o.ff)("var(--chakra-colors-brand-500)","brand.200"),fontWeight:"600"}},l,{children:[c&&(0,t.jsx)(i.m$.span,{mr:"5",fontSize:"1.1rem",display:{base:"none",md:"block"},width:"20px",children:c}),(0,t.jsx)(i.m$.span,{children:s})]}))}));n.Z=function(e){var n,r=e.href,o=e.icon,l=e.children,d=e.query,f=e.exactPath,p=void 0!==f&&f,m=u(e,["href","icon","children","query","exactPath"]),x=(0,s.useRouter)().asPath;return n=p?x.split("?")[0]==encodeURI(r):x.startsWith(encodeURI(r)),(0,t.jsx)(i.m$.div,a({userSelect:"none",display:"flex",alignItems:"center",lineHeight:"1.5rem"},m,{children:(0,t.jsx)(c.default,{href:{pathname:r,query:d},passHref:!0,children:(0,t.jsx)(h,{isActive:n,icon:o,children:l})})}))}},24871:function(e,n,r){"use strict";var t=r(85893),i=r(68527),o=r(1950),c=r(11163),s=r(67294),l=r(99901);function a(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function u(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){a(e,n,r[n])}))}return e}function h(e,n){if(null==e)return{};var r,t,i=function(e,n){if(null==e)return{};var r,t,i={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||(i[r]=e[r]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function d(e){var n=e.routes,r=(e.pathname,e.contentRef,h(e,["routes","pathname","contentRef"]));return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(i.Kq,{as:"ul",children:n.map((function(e){return e.disabled?null:(0,t.jsx)(l.Z,u({as:"li",href:e.path,icon:e.icon},r,{children:(0,t.jsx)("span",{children:e.title})}),e.path)}))})})}n.Z=function(e){var n=e.routes,r=e.title,l=h(e,["routes","title"]),a=(0,c.useRouter)().pathname,f=s.useRef(null);return(0,t.jsxs)(i.gC,{alignItems:"left",width:["180px","180px","250px","250px"],height:"fit-content",children:[(0,t.jsx)(o.ZP,{p:"5",className:"side-card",children:(0,t.jsx)(i.X6,{size:"md",fontSize:"1.3rem",children:r})}),(0,t.jsx)(o.ZP,u({p:"0",className:"side-card"},l,{children:(0,t.jsx)(i.xu,{ref:f,as:"nav","aria-label":"Main Navigation",pos:"sticky",sx:{overscrollBehavior:"contain"},top:"8.5rem",p:"3",overflowY:"auto",className:"sidebar-content",flexShrink:0,children:(0,t.jsx)(d,u({routes:n,pathname:a,contentRef:f},l))})}))]})}},37104:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return z}});var t=r(34051),i=r.n(t),o=r(85893),c=r(97375),s=r(28609),l=r(68527),a=r(96356),u=r(15193),h=r(88718),d=r(11391),f=r(1950),p=r(24871),m=r(67294),x=r(41039),g=r(84696),v=r(11163),j=r(40328),b=r(34651),y=r(95978),w=r(37763),O=r.n(w),_=r(87609),k=function(e){var n,r=e.user,t=e.highlight,i=e.onEdit,c=e.onDelete,s=(0,v.useRouter)();return(0,o.jsxs)(l.kC,{alignItems:"center",justifyContent:"space-between",children:[(0,o.jsxs)(l.Ug,{spacing:"4",p:"2",children:[(0,o.jsx)(b.Ee,{width:"40px",src:r.avatar,onClick:function(){return s.push("/".concat(r.username))},cursor:"pointer"}),(0,o.jsxs)(l.gC,{alignItems:"left",spacing:"1",children:[(0,o.jsx)(l.Ug,{children:(0,o.jsxs)(l.X6,{size:"sm",onClick:function(){return s.push("/".concat(r.username))},cursor:"pointer",children:[(0,o.jsx)(O(),{highlightClassName:"highlight-search-match",textToHighlight:(0,y.vW)(r),searchWords:[t]}),(0,o.jsx)(a.Vp,{colorScheme:"cyan",ml:"2",children:r.role})]})}),(0,o.jsxs)(l.xv,{layerStyle:"textSecondary",children:["@",(0,o.jsx)(O(),{highlightClassName:"highlight-search-match",textToHighlight:r.username,searchWords:[t]})," "]})]})]}),(0,o.jsxs)(l.Ug,{children:[(0,o.jsxs)(l.xv,{fontWeight:"600",fontSize:".95rem",children:[(0,o.jsx)(_.Z,{count:null!==(n=r.iteractions.followers)&&void 0!==n?n:0})," followers"]}),(0,o.jsx)(u.zx,{variant:"ghost",size:"sm",onClick:function(){return i(r)},_focus:{border:null},children:"Edit"}),(0,o.jsx)(u.zx,{variant:"outline",colorScheme:"red",size:"sm",onClick:function(){return c(r)},_focus:{border:null},children:"Delete"})]})]})},S=r(63091),P=r(96486),C=r(30092);function E(e,n,r,t,i,o,c){try{var s=e[o](c),l=s.value}catch(a){return void r(a)}s.done?n(l):Promise.resolve(l).then(t,i)}function N(e){return function(){var n=this,r=arguments;return new Promise((function(t,i){var o=e.apply(n,r);function c(e){E(o,t,i,c,s,"next",e)}function s(e){E(o,t,i,c,s,"throw",e)}c(void 0)}))}}var z=function(){var e=(0,c.qY)(),n=e.isOpen,r=e.onOpen,t=e.onClose,b=(0,m.useState)(null),y=b[0],w=b[1],O=(0,m.useState)(null),_=O[0],E=O[1],z=(0,m.useState)(null),I=z[0],R=z[1],q=(0,m.useState)(""),D=q[0],Z=q[1],W=(0,v.useRouter)();(0,m.useEffect)((function(){W.query.org_id&&(A(),g.rR.get("/org/secret/".concat(W.query.org_id)).then((function(e){return Z(e.data)})),g.rR.get("/user/profile?id=".concat(W.query.org_id)).then((function(e){return E(e.data)})))}),[W.query.org_id]);var A=function(){var e=N(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.rR.get("/org/members/".concat(W.query.org_id));case 2:n=e.sent,R(n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=(0,s.pm)(),T=function(){var e=N(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.rR.post("/org/secret/".concat(W.query.org_id));case 2:n=e.sent,H({description:"\u751f\u6210secret\u6210\u529f",status:"success",duration:2e3,isClosable:!0}),Z(n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=N(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.rR.delete("/org/member/".concat(_.id,"/").concat(n.id));case 2:H({description:"\u5220\u9664\u7528\u6237\u6210\u529f",status:"success",duration:2e3,isClosable:!0}),A();case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),M=function(e){w(e),r()},U=function(){var e=N(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.rR.post("/org/member/role",{orgID:_.id,memberID:y.id,role:y.role});case 2:w(null),t(),A();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(C.Z,{children:(0,o.jsxs)(l.xu,{display:"flex",children:[(0,o.jsx)(p.Z,{routes:(0,x.s0)(W.query.org_id),width:["120px","120px","250px","250px"],height:"fit-content",title:"\u7ec4\u7ec7".concat(null===_||void 0===_?void 0:_.nickname)}),(0,o.jsxs)(l.xu,{ml:[1,1,4,4],width:"100%",children:[(0,o.jsxs)(f.ZP,{children:[(0,o.jsx)(l.X6,{size:"sm",children:"Grow the org"}),(0,o.jsx)(l.xv,{mt:"2",children:"Invite teammates by sending them the secret and the following instructions:"}),(0,o.jsxs)(l.gC,{alignItems:"left",mt:"3",className:"bordered",p:"4",children:[(0,o.jsx)(l.xv,{children:"1. Sign in"}),(0,o.jsxs)(l.xv,{children:["2. Navigate to ",j.v.uiDomain,"/settings/orgs"]}),(0,o.jsx)(l.xv,{children:"3. Paste the secret code below and click Join Organization"}),(0,o.jsx)(a.Vp,{wordBreak:"break-word",maxW:"fit-content",children:D})]}),(0,o.jsxs)(l.Ug,{mt:"4",children:[(0,o.jsx)(u.zx,{variant:"outline",onClick:T,_focus:{border:null},children:"Generate new secret"}),(0,o.jsx)(l.xv,{color:"red.500",children:"You should rotate this regularly!"})]})]}),(0,o.jsx)(f.ZP,{mt:"3",children:I&&(0,o.jsx)(l.gC,{alignItems:"left",width:"100%",children:I.map((function(e){return(0,o.jsx)(k,{user:e,onEdit:M,onDelete:$},e.id)}))})})]})]})}),(0,o.jsxs)(h.u_,{isOpen:n,onClose:t,children:[(0,o.jsx)(h.ZA,{}),y&&(0,o.jsx)(h.hz,{p:"3",children:(0,o.jsxs)(h.fe,{mb:"2",children:[(0,o.jsx)(l.xv,{children:"Change role"}),(0,o.jsxs)(d.Ph,{value:y.role,_focus:{border:null},mt:"3",onChange:function(e){var n=(0,P.cloneDeep)(y);n.role=e.currentTarget.value,w(n)},children:[(0,o.jsx)("option",{value:S.u.NORMAL,children:S.u.NORMAL}),(0,o.jsx)("option",{value:S.u.ADMIN,children:S.u.ADMIN})]}),(0,o.jsx)(u.zx,{mt:"3",onClick:U,children:"Submit"})]})})]})]})}}},function(e){e.O(0,[5445,4885,4617,1921,1228,8703,7351,8718,2539,1111,3649,9177,7763,3009,6771,1926,9840,9774,2888,179],(function(){return n=34829,e(e.s=n);var n}));var n=e.O();_N_E=n}]);