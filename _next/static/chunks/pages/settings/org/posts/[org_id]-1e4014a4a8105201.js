(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8318],{85263:function(t,r,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/org/posts/[org_id]",function(){return e(50464)}])},50464:function(t,r,e){"use strict";e.r(r);var n=e(34051),o=e.n(n),i=e(85893),c=e(28609),u=e(68527),s=e(1950),a=e(24871),l=e(67294),f=e(41039),h=e(84696),d=e(11163),p=e(71118),g=e(26822),x=e(30092),y=e(82382);function v(t,r,e,n,o,i,c){try{var u=t[i](c),s=u.value}catch(a){return void e(a)}u.done?r(s):Promise.resolve(s).then(n,o)}function w(t){return function(){var r=this,e=arguments;return new Promise((function(n,o){var i=t.apply(r,e);function c(t){v(i,n,o,c,u,"next",t)}function u(t){v(i,n,o,c,u,"throw",t)}c(void 0)}))}}r.default=function(){var t=(0,l.useState)(null),r=t[0],e=t[1],n=(0,l.useState)([]),v=n[0],j=n[1],m=(0,d.useRouter)();(0,l.useEffect)((function(){m.query.org_id&&(b(),h.rR.get("/user/profile?id=".concat(m.query.org_id)).then((function(t){return e(t.data)})))}),[m.query.org_id]);var b=function(){var t=w(o().mark((function t(){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.rR.get("/story/posts/org/".concat(m.query.org_id,"?type=").concat(g.iJ.Post));case 2:r=t.sent,j(r.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),_=((0,c.pm)(),function(){var t=w(o().mark((function t(r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.rR.delete("/org/post/".concat(m.query.org_id,"/").concat(r));case 2:b();case 3:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}()),O=function(){var t=w(o().mark((function t(r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.rR.post("/org/pin/story/".concat(r));case 2:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}();return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(x.Z,{children:(0,i.jsxs)(u.xu,{display:"flex",children:[(0,i.jsx)(a.Z,{routes:(0,f.s0)(m.query.org_id),width:["120px","120px","250px","250px"],height:"fit-content",title:"\u7ec4\u7ec7".concat(null===r||void 0===r?void 0:r.nickname)}),(0,i.jsxs)(s.ZP,{ml:"4",p:"6",width:"100%",children:[(0,i.jsx)(u.kC,{alignItems:"center",justify:"space-between",children:(0,i.jsxs)(u.X6,{size:"md",children:["\u6587\u7ae0\u5217\u8868(",v.length,")"]})}),0===v.length?(0,i.jsx)(p.Z,{}):(0,i.jsx)(u.xu,{mt:"4",children:(0,i.jsx)(y.Z,{showSource:!0,stories:v,onDelete:function(t){return _(t)},onPin:function(t){return O(t)}})})]})]})})})}},82382:function(t,r,e){"use strict";var n=e(85893),o=(e(67294),e(20949)),i=e(68527),c=e(64981),u=e(70705),s=e(71118);function a(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function l(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{},n=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(e).filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})))),n.forEach((function(r){a(t,r,e[r])}))}return t}function f(t,r){if(null==t)return{};var e,n,o=function(t,r){if(null==t)return{};var e,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)e=i[n],r.indexOf(e)>=0||(o[e]=t[e]);return o}(t,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)e=i[n],r.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(o[e]=t[e])}return o}r.Z=function(t){var r=t.stories,e=t.showFooter,a=void 0===e||e,h=t.showSource,d=void 0!==h&&h,p=t.highlightStory,g=void 0!==p&&p,x=f(t,["stories","showFooter","showSource","highlightStory"]),y=(0,o.ff)(c.Z.borderColor.light,c.Z.borderColor.dark),v=function(t){return t<r.length-1||!!a};return(0,n.jsx)(n.Fragment,{children:r.length>0?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.gC,{alignItems:"left",children:r.map((function(r,e){return(0,n.jsx)(i.xu,{py:"3",borderBottom:v(e)?"1px solid ".concat(y):null,className:r.id==g?"highlight-bg":null,px:"1",children:(0,n.jsx)(u.Z,l({showSource:d,story:r,highlight:t.highlight},x))},e+r.id)}))}),a&&(0,n.jsx)(i.M5,{children:(0,n.jsx)(i.xv,{layerStyle:"textSecondary",fontSize:"sm",pt:"5",children:"\u6ca1\u6709\u66f4\u591a\u6587\u7ae0\u4e86"})})]}):(0,n.jsx)(s.Z,{})})}}},function(t){t.O(0,[5445,4885,4617,1921,1228,8703,7351,8718,2539,1111,3649,9177,7190,7998,3009,6771,1926,9840,8336,9774,2888,179],(function(){return r=85263,t(t.s=r);var r}));var r=t.O();_N_E=r}]);