(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2064],{33681:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login/[code]",function(){return e(50095)}])},50095:function(n,t,e){"use strict";e.r(t);var r=e(34051),u=e.n(r),o=e(85893),c=e(11163),i=e(67294),a=e(84696),s=e(64762),f=e(16586),v=e(62665);function p(n,t,e,r,u,o,c){try{var i=n[o](c),a=i.value}catch(s){return void e(s)}i.done?t(a):Promise.resolve(a).then(r,u)}t.default=function(){var n=(0,v.Z)().useLogin,t=(0,c.useRouter)(),e=t.query.code;(0,i.useEffect)((function(){e&&r(e)}),[e]);var r=function(){var e,r=(e=u().mark((function e(r){var o,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.rR.post("/user/login/code",{code:r});case 2:(o=e.sent).data?((0,s.Fr)(o.data.token),n(),(c=f.Z.get("current-page"))?(f.Z.remove("current-page"),t.push(c)):t.push("/")):t.push("/login/onboard?code=".concat(r));case 4:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,u){var o=e.apply(n,t);function c(n){p(o,r,u,c,i,"next",n)}function i(n){p(o,r,u,c,i,"throw",n)}c(void 0)}))});return function(n){return r.apply(this,arguments)}}();return(0,o.jsx)(o.Fragment,{})}},62665:function(n,t,e){"use strict";var r=e(34051),u=e.n(r),o=e(67294),c=e(84696),i=e(45522),a=e(64762);function s(n,t,e,r,u,o,c){try{var i=n[o](c),a=i.value}catch(s){return void e(s)}i.done?t(a):Promise.resolve(a).then(r,u)}function f(n){return function(){var t=this,e=arguments;return new Promise((function(r,u){var o=n.apply(t,e);function c(n){s(o,r,u,c,i,"next",n)}function i(n){s(o,r,u,c,i,"throw",n)}c(void 0)}))}}t.Z=function(){var n=(0,o.useState)(null),t=n[0],e=n[1],r=(0,i.ZP)("/user/session",(function(){return c.rR.get("/user/session").then((function(n){return n.data}))}),{dedupingInterval:6e4}),s=r.data,v=r.revalidate;(0,o.useEffect)((function(){e(s)}),[s]);var p=function(){var n=f(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:v();case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),d=function(){var n=f(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.rR.post("/user/logout");case 2:e(null),(0,a.gy)();case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return{session:t,useLogin:p,logout:d}}}},function(n){n.O(0,[8703,9774,2888,179],(function(){return t=33681,n(n.s=t);var t}));var t=n.O();_N_E=t}]);