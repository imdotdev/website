"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3394],{83504:function(e,r,n){var t=n(85893),o=n(68527),i=n(1950),c=n(62665),a=n(24871),l=n(96486),u=n(67294),s=n(63091),f=n(70577);function d(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function p(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){d(e,r,n[r])}))}return e}function h(e,r){if(null==e)return{};var n,t,o=function(e,r){if(null==e)return{};var n,t,o={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||(o[n]=e[n]);return o}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}r.Z=function(e){var r=e.title,n=e.routes,d=e.children,b=e.p,y=h(e,["title","routes","children","p"]),m=(0,c.Z)().session,v=(0,u.useState)(n),j=v[0],O=v[1];return(0,u.useEffect)((function(){if(null===m||void 0===m?void 0:m.user){var e=!0,r=!1,n=void 0;try{for(var t,o=j[Symbol.iterator]();!(e=(t=o.next()).done);e=!0){var i=t.value;i.minRole==s.u.ContentAdmin?i.disabled=!(0,f.SL)(m.user.role):i.minRole==s.u.ADMIN&&(i.disabled=!(0,f.GJ)(m.user.role))}}catch(c){r=!0,n=c}finally{try{e||null==o.return||o.return()}finally{if(r)throw n}}}O((0,l.cloneDeep)(j))}),[null===m||void 0===m?void 0:m.user]),(0,t.jsxs)(o.xu,{display:"flex",children:[(0,t.jsx)(a.Z,p({routes:j,title:r},y)),(0,t.jsx)(i.ZP,{className:"side-card",ml:"4",width:"100%",p:null!==b&&void 0!==b?b:6,pb:"1",children:d})]})}},99901:function(e,r,n){var t=n(85893),o=n(11604),i=n(20949),c=n(41664),a=n(11163);function l(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function u(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){l(e,r,n[r])}))}return e}function s(e,r){if(null==e)return{};var n,t,o=function(e,r){if(null==e)return{};var n,t,o={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||(o[n]=e[n]);return o}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var f=n(67294).forwardRef((function(e,r){var n=e.isActive,c=e.icon,a=e.children,l=s(e,["isActive","icon","children"]);return(0,t.jsxs)(o.m$.a,u({"aria-current":n?"page":void 0,width:"100%",px:"3",py:"2",rounded:"md",ref:r,fontSize:"1rem",fontWeight:"bold",color:(0,i.ff)("gray.700","whiteAlpha.900"),transition:"all 0.2s",display:"flex",alignItems:"center",className:"hover-bg",_activeLink:{color:(0,i.ff)("var(--chakra-colors-brand-500)","brand.200"),fontWeight:"600"}},l,{children:[c&&(0,t.jsx)(o.m$.span,{mr:"5",fontSize:"1.1rem",display:{base:"none",md:"block"},width:"20px",children:c}),(0,t.jsx)(o.m$.span,{children:a})]}))}));r.Z=function(e){var r,n=e.href,i=e.icon,l=e.children,d=e.query,p=e.exactPath,h=void 0!==p&&p,b=s(e,["href","icon","children","query","exactPath"]),y=(0,a.useRouter)().asPath;return r=h?y.split("?")[0]==encodeURI(n):y.startsWith(encodeURI(n)),(0,t.jsx)(o.m$.div,u({userSelect:"none",display:"flex",alignItems:"center",lineHeight:"1.5rem"},b,{children:(0,t.jsx)(c.default,{href:{pathname:n,query:d},passHref:!0,children:(0,t.jsx)(f,{isActive:r,icon:i,children:l})})}))}},24871:function(e,r,n){var t=n(85893),o=n(68527),i=n(1950),c=n(11163),a=n(67294),l=n(99901);function u(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function s(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){u(e,r,n[r])}))}return e}function f(e,r){if(null==e)return{};var n,t,o=function(e,r){if(null==e)return{};var n,t,o={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||(o[n]=e[n]);return o}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e){var r=e.routes,n=(e.pathname,e.contentRef,f(e,["routes","pathname","contentRef"]));return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(o.Kq,{as:"ul",children:r.map((function(e){return e.disabled?null:(0,t.jsx)(l.Z,s({as:"li",href:e.path,icon:e.icon},n,{children:(0,t.jsx)("span",{children:e.title})}),e.path)}))})})}r.Z=function(e){var r=e.routes,n=e.title,l=f(e,["routes","title"]),u=(0,c.useRouter)().pathname,p=a.useRef(null);return(0,t.jsxs)(o.gC,{alignItems:"left",width:["180px","180px","250px","250px"],height:"fit-content",children:[(0,t.jsx)(i.ZP,{p:"5",className:"side-card",children:(0,t.jsx)(o.X6,{size:"md",fontSize:"1.3rem",children:n})}),(0,t.jsx)(i.ZP,s({p:"0",className:"side-card"},l,{children:(0,t.jsx)(o.xu,{ref:p,as:"nav","aria-label":"Main Navigation",pos:"sticky",sx:{overscrollBehavior:"contain"},top:"8.5rem",p:"3",overflowY:"auto",className:"sidebar-content",flexShrink:0,children:(0,t.jsx)(d,s({routes:r,pathname:u,contentRef:p},l))})}))]})}},13520:function(e,r,n){var t=n(85893),o=n(68527),i=n(99901),c=n(11163),a=n(67294);function l(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function u(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){l(e,r,n[r])}))}return e}function s(e,r){if(null==e)return{};var n,t,o=function(e,r){if(null==e)return{};var n,t,o={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||(o[n]=e[n]);return o}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function f(e){var r=e.routes,n=(e.pathname,e.contentRef,e.query),c=s(e,["routes","pathname","contentRef","query"]);return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(o.Ug,{as:"ul",children:r.map((function(e){return e.disabled?null:(0,t.jsx)(i.Z,u({query:n,as:"li",href:e.path,icon:e.icon},c,{children:(0,t.jsx)("span",{children:e.title})}),e.path)}))})})}r.Z=function(e){var r=e.routes,n=e.showBorder,i=void 0===n||n,l=s(e,["routes","showBorder"]),d=(0,c.useRouter)().pathname,p=a.useRef(null);return(0,t.jsxs)(o.gC,{alignItems:"left",width:"100%",children:[(0,t.jsx)(f,u({routes:r,pathname:d,contentRef:p},l)),i&&(0,t.jsx)(o.iz,{})]})}},53394:function(e,r,n){n.r(r),n.d(r,{editorDLinks:function(){return v}});var t=n(34051),o=n.n(t),i=n(85893),c=n(68527),a=n(15193),l=(n(67294),n(41039)),u=n(84696),s=n(30092),f=n(83504),d=n(32532),p=n(7e3),h=n(7738),b=n(96486),y=n(13520);function m(e,r,n,t,o,i,c){try{var a=e[i](c),l=a.value}catch(u){return void n(u)}a.done?r(l):Promise.resolve(l).then(t,o)}var v=(0,b.find)(l.HZ,(function(e){return 3==e.id})).subLinks;r.default=function(){var e=function(){var e,r=(e=o().mark((function e(r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.rR.get("/discussion/user?id=".concat(0,"&filter=").concat(d.a.Latest,"&page=").concat(r,"&per_page=").concat(p.perPage));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})),function(){var r=this,n=arguments;return new Promise((function(t,o){var i=e.apply(r,n);function c(e){m(i,t,o,c,a,"next",e)}function a(e){m(i,t,o,c,a,"throw",e)}c(void 0)}))});return function(e){return r.apply(this,arguments)}}();return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(s.Z,{title:"\u521b\u4f5c\u4e2d\u5fc3-\u8349\u7a3f",children:(0,i.jsxs)(f.Z,{title:"\u521b\u4f5c\u4e2d\u5fc3",routes:l.HZ,children:[(0,i.jsxs)(c.kC,{justifyContent:"space-between",alignItems:"center",children:[(0,i.jsx)(y.Z,{routes:v,exactPath:!0}),(0,i.jsx)(a.zx,{size:"sm",as:"a",href:"/editor/discussion/new",children:"\u53d1\u8d77\u8ba8\u8bba"})]}),(0,i.jsx)(h.Z,{onLoad:e,showActins:!0})]})})})}}}]);